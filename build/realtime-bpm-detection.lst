ARM GAS  /var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s 			page 1


   1              		.cpu cortex-m7
   2              		.arch armv7e-m
   3              		.fpu fpv5-d16
   4              		.eabi_attribute 28, 1
   5              		.eabi_attribute 20, 1
   6              		.eabi_attribute 21, 1
   7              		.eabi_attribute 23, 3
   8              		.eabi_attribute 24, 1
   9              		.eabi_attribute 25, 1
  10              		.eabi_attribute 26, 1
  11              		.eabi_attribute 30, 4
  12              		.eabi_attribute 34, 1
  13              		.eabi_attribute 18, 4
  14              		.file	"realtime-bpm-detection.cpp"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.section	.text._ZN5daisy8DaisyPodD2Ev,"axG",%progbits,_ZN5daisy8DaisyPodD5Ev,comdat
  19              		.align	1
  20              		.weak	_ZN5daisy8DaisyPodD2Ev
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  25              	_ZN5daisy8DaisyPodD2Ev:
  26              	.LVL0:
  27              	.LFB2565:
  28              		.file 1 "../../libDaisy//src/daisy_pod.h"
   1:../../libDaisy//src/daisy_pod.h **** #pragma once
   2:../../libDaisy//src/daisy_pod.h **** #ifndef DSY_POD_BSP_H
   3:../../libDaisy//src/daisy_pod.h **** #define DSY_POD_BSP_H
   4:../../libDaisy//src/daisy_pod.h **** 
   5:../../libDaisy//src/daisy_pod.h **** #include "daisy_seed.h"
   6:../../libDaisy//src/daisy_pod.h **** 
   7:../../libDaisy//src/daisy_pod.h **** namespace daisy
   8:../../libDaisy//src/daisy_pod.h **** {
   9:../../libDaisy//src/daisy_pod.h **** /**
  10:../../libDaisy//src/daisy_pod.h ****     @brief Class that handles initializing all of the hardware specific to the Daisy Patch Board. \
  11:../../libDaisy//src/daisy_pod.h ****     Helper funtions are also in place to provide easy access to built-in controls and peripherals.
  12:../../libDaisy//src/daisy_pod.h ****     @author Stephen Hensley
  13:../../libDaisy//src/daisy_pod.h ****     @date November 2019
  14:../../libDaisy//src/daisy_pod.h ****     @ingroup boards
  15:../../libDaisy//src/daisy_pod.h **** */
  16:../../libDaisy//src/daisy_pod.h **** class DaisyPod
  17:../../libDaisy//src/daisy_pod.h **** {
  18:../../libDaisy//src/daisy_pod.h ****   public:
  19:../../libDaisy//src/daisy_pod.h ****     /** Switches */
  20:../../libDaisy//src/daisy_pod.h ****     enum Sw
  21:../../libDaisy//src/daisy_pod.h ****     {
  22:../../libDaisy//src/daisy_pod.h ****         BUTTON_1,    /** & */
  23:../../libDaisy//src/daisy_pod.h ****         BUTTON_2,    /** & */
  24:../../libDaisy//src/daisy_pod.h ****         BUTTON_LAST, /** &  */
  25:../../libDaisy//src/daisy_pod.h ****     };
  26:../../libDaisy//src/daisy_pod.h **** 
  27:../../libDaisy//src/daisy_pod.h ****     /** Knobs */
  28:../../libDaisy//src/daisy_pod.h ****     enum Knob
  29:../../libDaisy//src/daisy_pod.h ****     {
  30:../../libDaisy//src/daisy_pod.h ****         KNOB_1,    /** &  */
ARM GAS  /var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s 			page 2


  31:../../libDaisy//src/daisy_pod.h ****         KNOB_2,    /** & */
  32:../../libDaisy//src/daisy_pod.h ****         KNOB_LAST, /** & */
  33:../../libDaisy//src/daisy_pod.h ****     };
  34:../../libDaisy//src/daisy_pod.h **** 
  35:../../libDaisy//src/daisy_pod.h ****     DaisyPod() {}
  36:../../libDaisy//src/daisy_pod.h ****     ~DaisyPod() {}
  29              		.loc 1 36 5 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		@ link register save eliminated.
  34              	.LBB201:
  35              	.LBI201:
  36              		.file 2 "../../libDaisy//src/hid/midi.h"
   1:../../libDaisy//src/hid/midi.h **** #pragma once
   2:../../libDaisy//src/hid/midi.h **** #ifndef DSY_MIDI_H
   3:../../libDaisy//src/hid/midi.h **** #define DSY_MIDI_H
   4:../../libDaisy//src/hid/midi.h **** 
   5:../../libDaisy//src/hid/midi.h **** #include <stdint.h>
   6:../../libDaisy//src/hid/midi.h **** #include <stdlib.h>
   7:../../libDaisy//src/hid/midi.h **** #include <algorithm>
   8:../../libDaisy//src/hid/midi.h **** #include "per/uart.h"
   9:../../libDaisy//src/hid/midi.h **** #include "util/ringbuffer.h"
  10:../../libDaisy//src/hid/midi.h **** #include "util/FIFO.h"
  11:../../libDaisy//src/hid/midi.h **** #include "hid/midi_parser.h"
  12:../../libDaisy//src/hid/midi.h **** #include "hid/usb_midi.h"
  13:../../libDaisy//src/hid/midi.h **** #include "sys/dma.h"
  14:../../libDaisy//src/hid/midi.h **** #include "sys/system.h"
  15:../../libDaisy//src/hid/midi.h **** 
  16:../../libDaisy//src/hid/midi.h **** namespace daisy
  17:../../libDaisy//src/hid/midi.h **** {
  18:../../libDaisy//src/hid/midi.h **** /** @brief   Transport layer for sending and receiving MIDI data over UART
  19:../../libDaisy//src/hid/midi.h ****  *  @details This is the mode of communication used for TRS and DIN MIDI
  20:../../libDaisy//src/hid/midi.h ****  *           There is an additional 2kB of RAM data used within this class
  21:../../libDaisy//src/hid/midi.h ****  *           for processing bulk data from the UART peripheral
  22:../../libDaisy//src/hid/midi.h ****  *  @ingroup midi
  23:../../libDaisy//src/hid/midi.h **** */
  24:../../libDaisy//src/hid/midi.h **** class MidiUartTransport
  25:../../libDaisy//src/hid/midi.h **** {
  26:../../libDaisy//src/hid/midi.h ****   public:
  27:../../libDaisy//src/hid/midi.h ****     typedef void (*MidiRxParseCallback)(uint8_t* data,
  28:../../libDaisy//src/hid/midi.h ****                                         size_t   size,
  29:../../libDaisy//src/hid/midi.h ****                                         void*    context);
  30:../../libDaisy//src/hid/midi.h **** 
  31:../../libDaisy//src/hid/midi.h ****     MidiUartTransport() {}
  32:../../libDaisy//src/hid/midi.h ****     ~MidiUartTransport() {}
  33:../../libDaisy//src/hid/midi.h **** 
  34:../../libDaisy//src/hid/midi.h ****     /** @brief Configuration structure for UART MIDI */
  35:../../libDaisy//src/hid/midi.h ****     struct Config
  36:../../libDaisy//src/hid/midi.h ****     {
  37:../../libDaisy//src/hid/midi.h ****         UartHandler::Config::Peripheral periph;
  38:../../libDaisy//src/hid/midi.h ****         dsy_gpio_pin                    rx;
  39:../../libDaisy//src/hid/midi.h ****         dsy_gpio_pin                    tx;
  40:../../libDaisy//src/hid/midi.h **** 
  41:../../libDaisy//src/hid/midi.h ****         /** Pointer to buffer for DMA UART rx byte transfer in background.
  42:../../libDaisy//src/hid/midi.h ****          *
  43:../../libDaisy//src/hid/midi.h ****          *  @details By default this uses a shared buffer in DMA_BUFFER_MEM_SECTION,
ARM GAS  /var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s 			page 3


  44:../../libDaisy//src/hid/midi.h ****          *           which can only be utilized for a single UART peripheral. To
  45:../../libDaisy//src/hid/midi.h ****          *           use MIDI with multiple UART peripherals, you must provide your own
  46:../../libDaisy//src/hid/midi.h ****          *           buffer, allocated to a DMA-capable memory section.
  47:../../libDaisy//src/hid/midi.h ****          */
  48:../../libDaisy//src/hid/midi.h ****         uint8_t* rx_buffer;
  49:../../libDaisy//src/hid/midi.h **** 
  50:../../libDaisy//src/hid/midi.h ****         /** Size in bytes of rx_buffer.
  51:../../libDaisy//src/hid/midi.h ****          *
  52:../../libDaisy//src/hid/midi.h ****          *  @details This size determines the maximum Rx bytes readable by the UART in the backgrou
  53:../../libDaisy//src/hid/midi.h ****          *           By default it's set to the size of the default shared rx_buffer (256 bytes).
  54:../../libDaisy//src/hid/midi.h ****          *           While much smaller sizes can be used, data can get missed if the buffer is too
  55:../../libDaisy//src/hid/midi.h ****          */
  56:../../libDaisy//src/hid/midi.h ****         size_t rx_buffer_size;
  57:../../libDaisy//src/hid/midi.h **** 
  58:../../libDaisy//src/hid/midi.h ****         Config();
  59:../../libDaisy//src/hid/midi.h ****     };
  60:../../libDaisy//src/hid/midi.h **** 
  61:../../libDaisy//src/hid/midi.h ****     /** @brief Initialization of UART using config struct */
  62:../../libDaisy//src/hid/midi.h ****     inline void Init(Config config)
  63:../../libDaisy//src/hid/midi.h ****     {
  64:../../libDaisy//src/hid/midi.h ****         UartHandler::Config uart_config;
  65:../../libDaisy//src/hid/midi.h **** 
  66:../../libDaisy//src/hid/midi.h ****         //defaults
  67:../../libDaisy//src/hid/midi.h ****         uart_config.baudrate   = 31250;
  68:../../libDaisy//src/hid/midi.h ****         uart_config.stopbits   = UartHandler::Config::StopBits::BITS_1;
  69:../../libDaisy//src/hid/midi.h ****         uart_config.parity     = UartHandler::Config::Parity::NONE;
  70:../../libDaisy//src/hid/midi.h ****         uart_config.mode       = UartHandler::Config::Mode::TX_RX;
  71:../../libDaisy//src/hid/midi.h ****         uart_config.wordlength = UartHandler::Config::WordLength::BITS_8;
  72:../../libDaisy//src/hid/midi.h **** 
  73:../../libDaisy//src/hid/midi.h ****         //user settings
  74:../../libDaisy//src/hid/midi.h ****         uart_config.periph        = config.periph;
  75:../../libDaisy//src/hid/midi.h ****         uart_config.pin_config.rx = config.rx;
  76:../../libDaisy//src/hid/midi.h ****         uart_config.pin_config.tx = config.tx;
  77:../../libDaisy//src/hid/midi.h **** 
  78:../../libDaisy//src/hid/midi.h ****         rx_buffer      = config.rx_buffer;
  79:../../libDaisy//src/hid/midi.h ****         rx_buffer_size = config.rx_buffer_size;
  80:../../libDaisy//src/hid/midi.h **** 
  81:../../libDaisy//src/hid/midi.h ****         /** zero the buffer to ensure emptiness regardless of source memory */
  82:../../libDaisy//src/hid/midi.h ****         std::fill(rx_buffer, rx_buffer + rx_buffer_size, 0);
  83:../../libDaisy//src/hid/midi.h **** 
  84:../../libDaisy//src/hid/midi.h ****         uart_.Init(uart_config);
  85:../../libDaisy//src/hid/midi.h ****     }
  86:../../libDaisy//src/hid/midi.h **** 
  87:../../libDaisy//src/hid/midi.h ****     /** @brief Start the UART peripheral in listening mode.
  88:../../libDaisy//src/hid/midi.h ****      *  This will fill an internal data structure in the background */
  89:../../libDaisy//src/hid/midi.h ****     inline void StartRx(MidiRxParseCallback parse_callback, void* context)
  90:../../libDaisy//src/hid/midi.h ****     {
  91:../../libDaisy//src/hid/midi.h ****         parse_context_  = context;
  92:../../libDaisy//src/hid/midi.h ****         parse_callback_ = parse_callback;
  93:../../libDaisy//src/hid/midi.h ****         dsy_dma_clear_cache_for_buffer((uint8_t*)this,
  94:../../libDaisy//src/hid/midi.h ****                                        sizeof(MidiUartTransport));
  95:../../libDaisy//src/hid/midi.h ****         uart_.DmaListenStart(
  96:../../libDaisy//src/hid/midi.h ****             rx_buffer, rx_buffer_size, MidiUartTransport::rxCallback, this);
  97:../../libDaisy//src/hid/midi.h ****     }
  98:../../libDaisy//src/hid/midi.h **** 
  99:../../libDaisy//src/hid/midi.h ****     /** @brief returns whether the UART peripheral is actively listening in the background or not *
 100:../../libDaisy//src/hid/midi.h ****     inline bool RxActive() { return uart_.IsListening(); }
ARM GAS  /var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s 			page 4


 101:../../libDaisy//src/hid/midi.h **** 
 102:../../libDaisy//src/hid/midi.h ****     /** @brief This is a no-op for UART transport - Rx is via DMA callback with circular buffer */
 103:../../libDaisy//src/hid/midi.h ****     inline void FlushRx() {}
 104:../../libDaisy//src/hid/midi.h **** 
 105:../../libDaisy//src/hid/midi.h ****     /** @brief sends the buffer of bytes out of the UART peripheral */
 106:../../libDaisy//src/hid/midi.h ****     inline void Tx(uint8_t* buff, size_t size) { uart_.PollTx(buff, size); }
 107:../../libDaisy//src/hid/midi.h **** 
 108:../../libDaisy//src/hid/midi.h ****   private:
 109:../../libDaisy//src/hid/midi.h ****     UartHandler         uart_;
 110:../../libDaisy//src/hid/midi.h ****     uint8_t*            rx_buffer;
 111:../../libDaisy//src/hid/midi.h ****     size_t              rx_buffer_size;
 112:../../libDaisy//src/hid/midi.h ****     void*               parse_context_;
 113:../../libDaisy//src/hid/midi.h ****     MidiRxParseCallback parse_callback_;
 114:../../libDaisy//src/hid/midi.h **** 
 115:../../libDaisy//src/hid/midi.h ****     /** Static callback for Uart MIDI that occurs when
 116:../../libDaisy//src/hid/midi.h ****          *  new data is available from the peripheral.
 117:../../libDaisy//src/hid/midi.h ****          *  The new data is transferred from the peripheral to the
 118:../../libDaisy//src/hid/midi.h ****          *  MIDI instance's byte FIFO that feeds the MIDI parser.
 119:../../libDaisy//src/hid/midi.h ****          *
 120:../../libDaisy//src/hid/midi.h ****          *  TODO: Handle UartHandler errors better/at all.
 121:../../libDaisy//src/hid/midi.h ****          *  (If there is a UART error, there's not really any recovery
 122:../../libDaisy//src/hid/midi.h ****          *  option at the moment)
 123:../../libDaisy//src/hid/midi.h ****          */
 124:../../libDaisy//src/hid/midi.h ****     static void rxCallback(uint8_t*            data,
 125:../../libDaisy//src/hid/midi.h ****                            size_t              size,
 126:../../libDaisy//src/hid/midi.h ****                            void*               context,
 127:../../libDaisy//src/hid/midi.h ****                            UartHandler::Result res)
 128:../../libDaisy//src/hid/midi.h ****     {
 129:../../libDaisy//src/hid/midi.h ****         /** Read context as transport type */
 130:../../libDaisy//src/hid/midi.h ****         MidiUartTransport* transport
 131:../../libDaisy//src/hid/midi.h ****             = reinterpret_cast<MidiUartTransport*>(context);
 132:../../libDaisy//src/hid/midi.h ****         if(res == UartHandler::Result::OK)
 133:../../libDaisy//src/hid/midi.h ****         {
 134:../../libDaisy//src/hid/midi.h ****             if(transport->parse_callback_)
 135:../../libDaisy//src/hid/midi.h ****             {
 136:../../libDaisy//src/hid/midi.h ****                 transport->parse_callback_(
 137:../../libDaisy//src/hid/midi.h ****                     data, size, transport->parse_context_);
 138:../../libDaisy//src/hid/midi.h ****             }
 139:../../libDaisy//src/hid/midi.h ****         }
 140:../../libDaisy//src/hid/midi.h ****     }
 141:../../libDaisy//src/hid/midi.h **** };
 142:../../libDaisy//src/hid/midi.h **** 
 143:../../libDaisy//src/hid/midi.h **** /**
 144:../../libDaisy//src/hid/midi.h ****     @brief Simple MIDI Handler \n
 145:../../libDaisy//src/hid/midi.h ****     Parses bytes from an input into valid MidiEvents. \n
 146:../../libDaisy//src/hid/midi.h ****     The MidiEvents fill a FIFO queue that the user can pop messages from.
 147:../../libDaisy//src/hid/midi.h ****     @author shensley
 148:../../libDaisy//src/hid/midi.h ****     @date March 2020
 149:../../libDaisy//src/hid/midi.h ****     @ingroup midi
 150:../../libDaisy//src/hid/midi.h **** */
 151:../../libDaisy//src/hid/midi.h **** template <typename Transport>
 152:../../libDaisy//src/hid/midi.h **** class MidiHandler
 153:../../libDaisy//src/hid/midi.h **** {
 154:../../libDaisy//src/hid/midi.h ****   public:
 155:../../libDaisy//src/hid/midi.h ****     MidiHandler() {}
 156:../../libDaisy//src/hid/midi.h ****     ~MidiHandler() {}
  37              		.loc 2 156 5 view .LVU1
ARM GAS  /var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s 			page 5


  38              	.LBB202:
  39              	.LBI202:
  40              		.file 3 "../../libDaisy//src/util/FIFO.h"
   1:../../libDaisy//src/util/FIFO.h **** #pragma once
   2:../../libDaisy//src/util/FIFO.h **** 
   3:../../libDaisy//src/util/FIFO.h **** #include <stdint.h>
   4:../../libDaisy//src/util/FIFO.h **** #include <stddef.h>
   5:../../libDaisy//src/util/FIFO.h **** #include <initializer_list>
   6:../../libDaisy//src/util/FIFO.h **** 
   7:../../libDaisy//src/util/FIFO.h **** namespace daisy
   8:../../libDaisy//src/util/FIFO.h **** {
   9:../../libDaisy//src/util/FIFO.h **** /** Capacity-independent base class for FIFO. Use FIFO instead. */
  10:../../libDaisy//src/util/FIFO.h **** template <typename T>
  11:../../libDaisy//src/util/FIFO.h **** class FIFOBase
  12:../../libDaisy//src/util/FIFO.h **** {
  13:../../libDaisy//src/util/FIFO.h ****   protected:
  14:../../libDaisy//src/util/FIFO.h ****     FIFOBase(T* buffer, size_t bufferSize)
  15:../../libDaisy//src/util/FIFO.h ****     : buffer_(buffer), bufferSize_(bufferSize), bufferIn_(0), bufferOut_(0)
  16:../../libDaisy//src/util/FIFO.h ****     {
  17:../../libDaisy//src/util/FIFO.h ****     }
  18:../../libDaisy//src/util/FIFO.h **** 
  19:../../libDaisy//src/util/FIFO.h ****     FIFOBase(T* buffer, size_t bufferSize, std::initializer_list<T> valuesToAdd)
  20:../../libDaisy//src/util/FIFO.h ****     : buffer_(buffer), bufferSize_(bufferSize), bufferIn_(0), bufferOut_(0)
  21:../../libDaisy//src/util/FIFO.h ****     {
  22:../../libDaisy//src/util/FIFO.h ****         PushBack(valuesToAdd);
  23:../../libDaisy//src/util/FIFO.h ****     }
  24:../../libDaisy//src/util/FIFO.h **** 
  25:../../libDaisy//src/util/FIFO.h ****   public:
  26:../../libDaisy//src/util/FIFO.h ****     /** Copies all elements from another FIFO */
  27:../../libDaisy//src/util/FIFO.h ****     FIFOBase<T>& operator=(const FIFOBase<T>& other)
  28:../../libDaisy//src/util/FIFO.h ****     {
  29:../../libDaisy//src/util/FIFO.h ****         bufferIn_ = bufferOut_ = 0;
  30:../../libDaisy//src/util/FIFO.h ****         if(!other.IsEmpty())
  31:../../libDaisy//src/util/FIFO.h ****         {
  32:../../libDaisy//src/util/FIFO.h ****             int readPtr = other.bufferOut_;
  33:../../libDaisy//src/util/FIFO.h ****             while((readPtr != other.bufferIn_) && (bufferIn_ < bufferSize_))
  34:../../libDaisy//src/util/FIFO.h ****             {
  35:../../libDaisy//src/util/FIFO.h ****                 buffer_[bufferIn_++] = other.buffer_[readPtr++];
  36:../../libDaisy//src/util/FIFO.h ****                 if(readPtr >= other.bufferSize_)
  37:../../libDaisy//src/util/FIFO.h ****                     readPtr -= other.bufferSize_;
  38:../../libDaisy//src/util/FIFO.h ****             }
  39:../../libDaisy//src/util/FIFO.h ****         }
  40:../../libDaisy//src/util/FIFO.h ****         return *this;
  41:../../libDaisy//src/util/FIFO.h ****     }
  42:../../libDaisy//src/util/FIFO.h ****     ~FIFOBase() {}
  43:../../libDaisy//src/util/FIFO.h **** 
  44:../../libDaisy//src/util/FIFO.h ****     /** Removes all elements from the FIFO */
  45:../../libDaisy//src/util/FIFO.h ****     void Clear() { bufferIn_ = bufferOut_ = 0; }
  46:../../libDaisy//src/util/FIFO.h **** 
  47:../../libDaisy//src/util/FIFO.h ****     /** Adds an element to the back of the buffer, returning true on
  48:../../libDaisy//src/util/FIFO.h ****         success */
  49:../../libDaisy//src/util/FIFO.h ****     bool PushBack(const T& elementToAdd)
  50:../../libDaisy//src/util/FIFO.h ****     {
  51:../../libDaisy//src/util/FIFO.h ****         if(!IsFull())
  52:../../libDaisy//src/util/FIFO.h ****         {
  53:../../libDaisy//src/util/FIFO.h ****             buffer_[bufferIn_++] = elementToAdd;
  54:../../libDaisy//src/util/FIFO.h ****             if(bufferIn_ >= bufferSize_)
ARM GAS  /var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s 			page 6


  55:../../libDaisy//src/util/FIFO.h ****                 bufferIn_ -= bufferSize_;
  56:../../libDaisy//src/util/FIFO.h ****             return true;
  57:../../libDaisy//src/util/FIFO.h ****         }
  58:../../libDaisy//src/util/FIFO.h ****         return false;
  59:../../libDaisy//src/util/FIFO.h ****     }
  60:../../libDaisy//src/util/FIFO.h **** 
  61:../../libDaisy//src/util/FIFO.h ****     /** Adds multiple elements and returns the number of elements that were added */
  62:../../libDaisy//src/util/FIFO.h ****     int PushBack(std::initializer_list<T> valuesToAdd)
  63:../../libDaisy//src/util/FIFO.h ****     {
  64:../../libDaisy//src/util/FIFO.h ****         int numAdded = 0;
  65:../../libDaisy//src/util/FIFO.h ****         for(const auto& v : valuesToAdd)
  66:../../libDaisy//src/util/FIFO.h ****         {
  67:../../libDaisy//src/util/FIFO.h ****             if(IsFull())
  68:../../libDaisy//src/util/FIFO.h ****                 return numAdded;
  69:../../libDaisy//src/util/FIFO.h **** 
  70:../../libDaisy//src/util/FIFO.h ****             PushBack(v);
  71:../../libDaisy//src/util/FIFO.h ****             numAdded++;
  72:../../libDaisy//src/util/FIFO.h ****         }
  73:../../libDaisy//src/util/FIFO.h ****         return numAdded;
  74:../../libDaisy//src/util/FIFO.h ****     }
  75:../../libDaisy//src/util/FIFO.h **** 
  76:../../libDaisy//src/util/FIFO.h ****     /** returns a reference to the last element */
  77:../../libDaisy//src/util/FIFO.h ****     T& Back()
  78:../../libDaisy//src/util/FIFO.h ****     {
  79:../../libDaisy//src/util/FIFO.h ****         if(IsEmpty())
  80:../../libDaisy//src/util/FIFO.h ****             // invalid, but better not pass a temporary T() object as a reference...
  81:../../libDaisy//src/util/FIFO.h ****             return buffer_[0];
  82:../../libDaisy//src/util/FIFO.h ****         int idx = bufferIn_ - 1;
  83:../../libDaisy//src/util/FIFO.h ****         if(idx < 0)
  84:../../libDaisy//src/util/FIFO.h ****             idx += bufferSize_;
  85:../../libDaisy//src/util/FIFO.h ****         return buffer_[idx];
  86:../../libDaisy//src/util/FIFO.h ****     }
  87:../../libDaisy//src/util/FIFO.h **** 
  88:../../libDaisy//src/util/FIFO.h ****     /** returns a reference to the last element */
  89:../../libDaisy//src/util/FIFO.h ****     const T& Back() const
  90:../../libDaisy//src/util/FIFO.h ****     {
  91:../../libDaisy//src/util/FIFO.h ****         if(IsEmpty())
  92:../../libDaisy//src/util/FIFO.h ****             // invalid, but better not pass a temporary T() object as a reference...
  93:../../libDaisy//src/util/FIFO.h ****             return buffer_[0];
  94:../../libDaisy//src/util/FIFO.h ****         int idx = bufferIn_ - 1;
  95:../../libDaisy//src/util/FIFO.h ****         if(idx < 0)
  96:../../libDaisy//src/util/FIFO.h ****             idx += bufferSize_;
  97:../../libDaisy//src/util/FIFO.h ****         return buffer_[idx];
  98:../../libDaisy//src/util/FIFO.h ****     }
  99:../../libDaisy//src/util/FIFO.h **** 
 100:../../libDaisy//src/util/FIFO.h ****     /** removes and returns an element from the front of the buffer */
 101:../../libDaisy//src/util/FIFO.h ****     T PopFront()
 102:../../libDaisy//src/util/FIFO.h ****     {
 103:../../libDaisy//src/util/FIFO.h ****         if(IsEmpty())
 104:../../libDaisy//src/util/FIFO.h ****             return T();
 105:../../libDaisy//src/util/FIFO.h ****         else
 106:../../libDaisy//src/util/FIFO.h ****         {
 107:../../libDaisy//src/util/FIFO.h ****             const auto result = buffer_[bufferOut_];
 108:../../libDaisy//src/util/FIFO.h ****             bufferOut_++;
 109:../../libDaisy//src/util/FIFO.h ****             if(bufferOut_ >= bufferSize_)
 110:../../libDaisy//src/util/FIFO.h ****                 bufferOut_ -= bufferSize_;
 111:../../libDaisy//src/util/FIFO.h ****             return result;
ARM GAS  /var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s 			page 7


 112:../../libDaisy//src/util/FIFO.h ****         }
 113:../../libDaisy//src/util/FIFO.h ****     }
 114:../../libDaisy//src/util/FIFO.h **** 
 115:../../libDaisy//src/util/FIFO.h ****     /** returns a copy of the first element */
 116:../../libDaisy//src/util/FIFO.h ****     T& Front()
 117:../../libDaisy//src/util/FIFO.h ****     {
 118:../../libDaisy//src/util/FIFO.h ****         if(IsEmpty())
 119:../../libDaisy//src/util/FIFO.h ****             // invalid, but better not pass a temporary T() object as a reference...
 120:../../libDaisy//src/util/FIFO.h ****             return buffer_[0];
 121:../../libDaisy//src/util/FIFO.h ****         return buffer_[bufferOut_];
 122:../../libDaisy//src/util/FIFO.h ****     }
 123:../../libDaisy//src/util/FIFO.h **** 
 124:../../libDaisy//src/util/FIFO.h ****     /** returns a reference to the first element */
 125:../../libDaisy//src/util/FIFO.h ****     const T& Front() const
 126:../../libDaisy//src/util/FIFO.h ****     {
 127:../../libDaisy//src/util/FIFO.h ****         if(IsEmpty())
 128:../../libDaisy//src/util/FIFO.h ****             // invalid, but better not pass a temporary T() object as a reference...
 129:../../libDaisy//src/util/FIFO.h ****             return buffer_[0];
 130:../../libDaisy//src/util/FIFO.h ****         return buffer_[bufferOut_];
 131:../../libDaisy//src/util/FIFO.h ****     }
 132:../../libDaisy//src/util/FIFO.h **** 
 133:../../libDaisy//src/util/FIFO.h ****     /** Returns true if the buffer contains an element equal to the provided value */
 134:../../libDaisy//src/util/FIFO.h ****     bool Contains(const T& element)
 135:../../libDaisy//src/util/FIFO.h ****     {
 136:../../libDaisy//src/util/FIFO.h ****         auto idx = bufferOut_;
 137:../../libDaisy//src/util/FIFO.h ****         while(idx != bufferIn_)
 138:../../libDaisy//src/util/FIFO.h ****         {
 139:../../libDaisy//src/util/FIFO.h ****             if(buffer_[idx] == element)
 140:../../libDaisy//src/util/FIFO.h ****                 return true;
 141:../../libDaisy//src/util/FIFO.h ****             idx++;
 142:../../libDaisy//src/util/FIFO.h ****             if(idx >= bufferSize_)
 143:../../libDaisy//src/util/FIFO.h ****                 idx -= bufferSize_;
 144:../../libDaisy//src/util/FIFO.h ****         }
 145:../../libDaisy//src/util/FIFO.h ****         return false;
 146:../../libDaisy//src/util/FIFO.h ****     }
 147:../../libDaisy//src/util/FIFO.h **** 
 148:../../libDaisy//src/util/FIFO.h ****     /** Returns the number of elements in the buffer that are equal to the provided value */
 149:../../libDaisy//src/util/FIFO.h ****     size_t CountEqualTo(const T& element)
 150:../../libDaisy//src/util/FIFO.h ****     {
 151:../../libDaisy//src/util/FIFO.h ****         size_t result = 0;
 152:../../libDaisy//src/util/FIFO.h ****         size_t idx    = bufferOut_;
 153:../../libDaisy//src/util/FIFO.h ****         while(idx != bufferIn_)
 154:../../libDaisy//src/util/FIFO.h ****         {
 155:../../libDaisy//src/util/FIFO.h ****             if(buffer_[idx] == element)
 156:../../libDaisy//src/util/FIFO.h ****                 result++;
 157:../../libDaisy//src/util/FIFO.h ****             idx++;
 158:../../libDaisy//src/util/FIFO.h ****             if(idx >= bufferSize_)
 159:../../libDaisy//src/util/FIFO.h ****                 idx -= bufferSize_;
 160:../../libDaisy//src/util/FIFO.h ****         }
 161:../../libDaisy//src/util/FIFO.h ****         return result;
 162:../../libDaisy//src/util/FIFO.h ****     }
 163:../../libDaisy//src/util/FIFO.h **** 
 164:../../libDaisy//src/util/FIFO.h ****     /** returns true, if the buffer is empty */
 165:../../libDaisy//src/util/FIFO.h ****     bool IsEmpty() const { return bufferIn_ == bufferOut_; }
 166:../../libDaisy//src/util/FIFO.h **** 
 167:../../libDaisy//src/util/FIFO.h ****     /** returns true, if the buffer is Full */
 168:../../libDaisy//src/util/FIFO.h ****     bool IsFull() const { return GetNumElements() == bufferSize_ - 1; }
ARM GAS  /var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s 			page 8


 169:../../libDaisy//src/util/FIFO.h **** 
 170:../../libDaisy//src/util/FIFO.h ****     /** returns the number of elements in the buffer */
 171:../../libDaisy//src/util/FIFO.h ****     size_t GetNumElements() const
 172:../../libDaisy//src/util/FIFO.h ****     {
 173:../../libDaisy//src/util/FIFO.h ****         int32_t numElements = bufferIn_ - bufferOut_;
 174:../../libDaisy//src/util/FIFO.h ****         if(numElements < 0)
 175:../../libDaisy//src/util/FIFO.h ****             numElements += bufferSize_;
 176:../../libDaisy//src/util/FIFO.h ****         return size_t(numElements);
 177:../../libDaisy//src/util/FIFO.h ****     }
 178:../../libDaisy//src/util/FIFO.h **** 
 179:../../libDaisy//src/util/FIFO.h ****     /** inserts an element "idx" positions behind the first element and returns true if successful 
 180:../../libDaisy//src/util/FIFO.h ****     bool Insert(size_t idx, const T& element)
 181:../../libDaisy//src/util/FIFO.h ****     {
 182:../../libDaisy//src/util/FIFO.h ****         if(idx > GetNumElements())
 183:../../libDaisy//src/util/FIFO.h ****             return false;
 184:../../libDaisy//src/util/FIFO.h ****         if(IsFull())
 185:../../libDaisy//src/util/FIFO.h ****             return false;
 186:../../libDaisy//src/util/FIFO.h ****         if(idx == GetNumElements())
 187:../../libDaisy//src/util/FIFO.h ****         {
 188:../../libDaisy//src/util/FIFO.h ****             PushBack(element);
 189:../../libDaisy//src/util/FIFO.h ****             return true;
 190:../../libDaisy//src/util/FIFO.h ****         }
 191:../../libDaisy//src/util/FIFO.h ****         // copy last element
 192:../../libDaisy//src/util/FIFO.h ****         PushBack(Back());
 193:../../libDaisy//src/util/FIFO.h ****         // move remaining elements: n => n+1
 194:../../libDaisy//src/util/FIFO.h ****         for(int i = GetNumElements() - 2; i > int(idx); i--)
 195:../../libDaisy//src/util/FIFO.h ****             (*this)[i] = (*this)[i - 1];
 196:../../libDaisy//src/util/FIFO.h ****         // insert element
 197:../../libDaisy//src/util/FIFO.h ****         (*this)[idx] = element;
 198:../../libDaisy//src/util/FIFO.h ****         return true;
 199:../../libDaisy//src/util/FIFO.h ****     }
 200:../../libDaisy//src/util/FIFO.h **** 
 201:../../libDaisy//src/util/FIFO.h ****     /** removes the element "idx" positions behind the first element 
 202:../../libDaisy//src/util/FIFO.h ****      *  and returns true if successful */
 203:../../libDaisy//src/util/FIFO.h ****     bool Remove(size_t idx)
 204:../../libDaisy//src/util/FIFO.h ****     {
 205:../../libDaisy//src/util/FIFO.h ****         if(idx >= GetNumElements())
 206:../../libDaisy//src/util/FIFO.h ****             return false;
 207:../../libDaisy//src/util/FIFO.h **** 
 208:../../libDaisy//src/util/FIFO.h ****         size_t index = bufferOut_ + idx;
 209:../../libDaisy//src/util/FIFO.h ****         if(index >= bufferSize_)
 210:../../libDaisy//src/util/FIFO.h ****             index -= bufferSize_;
 211:../../libDaisy//src/util/FIFO.h ****         size_t nextIndex = index + 1;
 212:../../libDaisy//src/util/FIFO.h ****         if(nextIndex >= bufferSize_)
 213:../../libDaisy//src/util/FIFO.h ****             nextIndex -= bufferSize_;
 214:../../libDaisy//src/util/FIFO.h **** 
 215:../../libDaisy//src/util/FIFO.h ****         while(nextIndex != bufferIn_)
 216:../../libDaisy//src/util/FIFO.h ****         {
 217:../../libDaisy//src/util/FIFO.h ****             buffer_[index] = buffer_[nextIndex];
 218:../../libDaisy//src/util/FIFO.h ****             index++;
 219:../../libDaisy//src/util/FIFO.h ****             nextIndex++;
 220:../../libDaisy//src/util/FIFO.h ****             if(index >= bufferSize_)
 221:../../libDaisy//src/util/FIFO.h ****                 index -= bufferSize_;
 222:../../libDaisy//src/util/FIFO.h ****             if(nextIndex >= bufferSize_)
 223:../../libDaisy//src/util/FIFO.h ****                 nextIndex -= bufferSize_;
 224:../../libDaisy//src/util/FIFO.h ****         }
 225:../../libDaisy//src/util/FIFO.h **** 
ARM GAS  /var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s 			page 9


 226:../../libDaisy//src/util/FIFO.h ****         int32_t nextBufferIn = int32_t(bufferIn_) - 1;
 227:../../libDaisy//src/util/FIFO.h ****         if(nextBufferIn < 0)
 228:../../libDaisy//src/util/FIFO.h ****             nextBufferIn += bufferSize_;
 229:../../libDaisy//src/util/FIFO.h ****         bufferIn_ = size_t(nextBufferIn);
 230:../../libDaisy//src/util/FIFO.h **** 
 231:../../libDaisy//src/util/FIFO.h ****         return true;
 232:../../libDaisy//src/util/FIFO.h ****     }
 233:../../libDaisy//src/util/FIFO.h **** 
 234:../../libDaisy//src/util/FIFO.h ****     /** removes all elements from the buffer for which
 235:../../libDaisy//src/util/FIFO.h ****         (buffer(index) == element) returns true and returns the number of
 236:../../libDaisy//src/util/FIFO.h ****         elements that were removed. */
 237:../../libDaisy//src/util/FIFO.h ****     size_t RemoveAllEqualTo(const T& element)
 238:../../libDaisy//src/util/FIFO.h ****     {
 239:../../libDaisy//src/util/FIFO.h ****         size_t numRemoved = 0;
 240:../../libDaisy//src/util/FIFO.h ****         int    idx        = GetNumElements() - 1;
 241:../../libDaisy//src/util/FIFO.h ****         while(idx >= 0)
 242:../../libDaisy//src/util/FIFO.h ****         {
 243:../../libDaisy//src/util/FIFO.h ****             if((*this)[idx] == element)
 244:../../libDaisy//src/util/FIFO.h ****             {
 245:../../libDaisy//src/util/FIFO.h ****                 numRemoved++;
 246:../../libDaisy//src/util/FIFO.h ****                 Remove(idx);
 247:../../libDaisy//src/util/FIFO.h ****                 // was that the last element?
 248:../../libDaisy//src/util/FIFO.h ****                 if(idx == int(GetNumElements()) - 1)
 249:../../libDaisy//src/util/FIFO.h ****                     idx--;
 250:../../libDaisy//src/util/FIFO.h ****             }
 251:../../libDaisy//src/util/FIFO.h ****             else
 252:../../libDaisy//src/util/FIFO.h ****                 idx--;
 253:../../libDaisy//src/util/FIFO.h ****         }
 254:../../libDaisy//src/util/FIFO.h ****         return numRemoved;
 255:../../libDaisy//src/util/FIFO.h ****     }
 256:../../libDaisy//src/util/FIFO.h **** 
 257:../../libDaisy//src/util/FIFO.h ****     /** returns the element "idx" positions behind the first element */
 258:../../libDaisy//src/util/FIFO.h ****     T& operator[](size_t idx)
 259:../../libDaisy//src/util/FIFO.h ****     {
 260:../../libDaisy//src/util/FIFO.h ****         if(idx >= GetNumElements())
 261:../../libDaisy//src/util/FIFO.h ****             // invalid, but better not pass a temporary T() object as a reference...
 262:../../libDaisy//src/util/FIFO.h ****             return buffer_[0];
 263:../../libDaisy//src/util/FIFO.h **** 
 264:../../libDaisy//src/util/FIFO.h ****         size_t index = bufferOut_ + idx;
 265:../../libDaisy//src/util/FIFO.h ****         if(index >= bufferSize_)
 266:../../libDaisy//src/util/FIFO.h ****             index -= bufferSize_;
 267:../../libDaisy//src/util/FIFO.h ****         return buffer_[index];
 268:../../libDaisy//src/util/FIFO.h ****     }
 269:../../libDaisy//src/util/FIFO.h **** 
 270:../../libDaisy//src/util/FIFO.h ****     /** returns the element "idx" positions behind the first element */
 271:../../libDaisy//src/util/FIFO.h ****     const T& operator[](size_t idx) const
 272:../../libDaisy//src/util/FIFO.h ****     {
 273:../../libDaisy//src/util/FIFO.h ****         if(idx >= GetNumElements())
 274:../../libDaisy//src/util/FIFO.h ****             // invalid, but better not pass a temporary T() object as a reference...
 275:../../libDaisy//src/util/FIFO.h ****             return buffer_[0];
 276:../../libDaisy//src/util/FIFO.h **** 
 277:../../libDaisy//src/util/FIFO.h ****         size_t index = bufferOut_ + idx;
 278:../../libDaisy//src/util/FIFO.h ****         if(index >= bufferSize_)
 279:../../libDaisy//src/util/FIFO.h ****             index -= bufferSize_;
 280:../../libDaisy//src/util/FIFO.h ****         return buffer_[index];
 281:../../libDaisy//src/util/FIFO.h ****     }
 282:../../libDaisy//src/util/FIFO.h **** 
ARM GAS  /var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s 			page 10


 283:../../libDaisy//src/util/FIFO.h ****     /** returns the total capacity */
 284:../../libDaisy//src/util/FIFO.h ****     size_t GetCapacity() const { return bufferSize_ - 1; }
 285:../../libDaisy//src/util/FIFO.h **** 
 286:../../libDaisy//src/util/FIFO.h ****   private:
 287:../../libDaisy//src/util/FIFO.h ****     FIFOBase(const FIFOBase<T>&) {} // non copyable
 288:../../libDaisy//src/util/FIFO.h **** 
 289:../../libDaisy//src/util/FIFO.h ****   private:
 290:../../libDaisy//src/util/FIFO.h ****     T*           buffer_;
 291:../../libDaisy//src/util/FIFO.h ****     const size_t bufferSize_;
 292:../../libDaisy//src/util/FIFO.h ****     size_t       bufferIn_;
 293:../../libDaisy//src/util/FIFO.h ****     size_t       bufferOut_;
 294:../../libDaisy//src/util/FIFO.h **** };
 295:../../libDaisy//src/util/FIFO.h **** 
 296:../../libDaisy//src/util/FIFO.h **** /** A simple FIFO ring buffer with a fixed size. */
 297:../../libDaisy//src/util/FIFO.h **** template <typename T, size_t capacity>
 298:../../libDaisy//src/util/FIFO.h **** class FIFO : public FIFOBase<T>
  41              		.loc 3 298 7 view .LVU2
  42              	.LBB203:
  43              	.LBI203:
  42:../../libDaisy//src/util/FIFO.h **** 
  44              		.loc 3 42 5 view .LVU3
  42:../../libDaisy//src/util/FIFO.h **** 
  45              		.loc 3 42 5 is_stmt 0 view .LVU4
  46              	.LBE203:
  47              	.LBE202:
  48              	.LBB204:
  49              	.LBI204:
  50              		.file 4 "../../libDaisy//src/hid/midi_parser.h"
   1:../../libDaisy//src/hid/midi_parser.h **** #pragma once
   2:../../libDaisy//src/hid/midi_parser.h **** #ifndef DSY_MIDI_PARSER_H
   3:../../libDaisy//src/hid/midi_parser.h **** #define DSY_MIDI_PARSER_H
   4:../../libDaisy//src/hid/midi_parser.h **** 
   5:../../libDaisy//src/hid/midi_parser.h **** #include <stdint.h>
   6:../../libDaisy//src/hid/midi_parser.h **** #include <stdlib.h>
   7:../../libDaisy//src/hid/midi_parser.h **** #include "hid/MidiEvent.h"
   8:../../libDaisy//src/hid/midi_parser.h **** 
   9:../../libDaisy//src/hid/midi_parser.h **** namespace daisy
  10:../../libDaisy//src/hid/midi_parser.h **** {
  11:../../libDaisy//src/hid/midi_parser.h **** /** @brief   Utility class for parsing raw byte streams into MIDI messages
  12:../../libDaisy//src/hid/midi_parser.h ****  *  @details Implemented as a state machine designed to parse one byte at a time
  13:../../libDaisy//src/hid/midi_parser.h ****  *  @ingroup midi
  14:../../libDaisy//src/hid/midi_parser.h ****  */
  15:../../libDaisy//src/hid/midi_parser.h **** class MidiParser
  16:../../libDaisy//src/hid/midi_parser.h **** {
  17:../../libDaisy//src/hid/midi_parser.h ****   public:
  18:../../libDaisy//src/hid/midi_parser.h ****     MidiParser(){};
  19:../../libDaisy//src/hid/midi_parser.h ****     ~MidiParser() {}
  51              		.loc 4 19 5 is_stmt 1 view .LVU5
  52              		.loc 4 19 5 is_stmt 0 view .LVU6
  53              	.LBE204:
  54              	.LBB205:
  55              	.LBI205:
  32:../../libDaisy//src/hid/midi.h **** 
  56              		.loc 2 32 5 is_stmt 1 view .LVU7
  32:../../libDaisy//src/hid/midi.h **** 
  57              		.loc 2 32 5 is_stmt 0 view .LVU8
  58              	.LBE205:
ARM GAS  /var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s 			page 11


  59              	.LBE201:
  60              	.LBB206:
  61              	.LBI206:
  62              		.file 5 "../../libDaisy//src/hid/rgb_led.h"
   1:../../libDaisy//src/hid/rgb_led.h **** #pragma once
   2:../../libDaisy//src/hid/rgb_led.h **** #ifndef DSY_RGB_LED_H
   3:../../libDaisy//src/hid/rgb_led.h **** #define DSY_RGB_LED_H
   4:../../libDaisy//src/hid/rgb_led.h **** #include "hid/led.h"
   5:../../libDaisy//src/hid/rgb_led.h **** #include "util/color.h"
   6:../../libDaisy//src/hid/rgb_led.h **** 
   7:../../libDaisy//src/hid/rgb_led.h **** namespace daisy
   8:../../libDaisy//src/hid/rgb_led.h **** {
   9:../../libDaisy//src/hid/rgb_led.h **** /** @addtogroup feedback
  10:../../libDaisy//src/hid/rgb_led.h ****     @{
  11:../../libDaisy//src/hid/rgb_led.h **** */
  12:../../libDaisy//src/hid/rgb_led.h **** 
  13:../../libDaisy//src/hid/rgb_led.h **** /** 3x LEDs configured as an RGB for ease of use. */
  14:../../libDaisy//src/hid/rgb_led.h **** class RgbLed
  15:../../libDaisy//src/hid/rgb_led.h **** {
  16:../../libDaisy//src/hid/rgb_led.h ****   public:
  17:../../libDaisy//src/hid/rgb_led.h ****     RgbLed() {}
  18:../../libDaisy//src/hid/rgb_led.h ****     ~RgbLed() {}
  63              		.loc 5 18 5 is_stmt 1 view .LVU9
  64              	.LBB207:
  65              	.LBI207:
  66              		.file 6 "../../libDaisy//src/hid/led.h"
   1:../../libDaisy//src/hid/led.h **** 
   2:../../libDaisy//src/hid/led.h **** #pragma once
   3:../../libDaisy//src/hid/led.h **** #ifndef DSY_LED_H
   4:../../libDaisy//src/hid/led.h **** #define DSY_LED_H
   5:../../libDaisy//src/hid/led.h **** #include "daisy_core.h"
   6:../../libDaisy//src/hid/led.h **** #include "per/gpio.h"
   7:../../libDaisy//src/hid/led.h **** 
   8:../../libDaisy//src/hid/led.h **** /* TODO - Get this set up to work with the dev_leddriver stuff as well
   9:../../libDaisy//src/hid/led.h **** - Setup Hardware PWM for pins that have it
  10:../../libDaisy//src/hid/led.h **** */
  11:../../libDaisy//src/hid/led.h **** 
  12:../../libDaisy//src/hid/led.h **** namespace daisy
  13:../../libDaisy//src/hid/led.h **** {
  14:../../libDaisy//src/hid/led.h **** /**
  15:../../libDaisy//src/hid/led.h ****     @brief LED Class providing simple Software PWM ability, etc \n 
  16:../../libDaisy//src/hid/led.h ****     Eventually this will work with hardware PWM, and external LED Driver devices as well.
  17:../../libDaisy//src/hid/led.h ****     @author shensley
  18:../../libDaisy//src/hid/led.h ****     @date March 2020
  19:../../libDaisy//src/hid/led.h ****     @ingroup feedback
  20:../../libDaisy//src/hid/led.h **** */
  21:../../libDaisy//src/hid/led.h **** class Led
  22:../../libDaisy//src/hid/led.h **** {
  23:../../libDaisy//src/hid/led.h ****   public:
  24:../../libDaisy//src/hid/led.h ****     Led() {}
  25:../../libDaisy//src/hid/led.h ****     ~Led() {}
  67              		.loc 6 25 5 view .LVU10
  68              		.loc 6 25 5 is_stmt 0 view .LVU11
  69              	.LBE207:
  70              	.LBB208:
  71              	.LBI208:
  72              		.loc 6 25 5 is_stmt 1 view .LVU12
ARM GAS  /var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s 			page 12


  73              		.loc 6 25 5 is_stmt 0 view .LVU13
  74              	.LBE208:
  75              	.LBB209:
  76              	.LBI209:
  77              		.loc 6 25 5 is_stmt 1 view .LVU14
  78              		.loc 6 25 5 is_stmt 0 view .LVU15
  79              	.LBE209:
  80              	.LBE206:
  81              	.LBB210:
  82              	.LBI210:
  83              		.loc 5 18 5 is_stmt 1 view .LVU16
  84              	.LBB211:
  85              	.LBI211:
  86              		.loc 6 25 5 view .LVU17
  87              		.loc 6 25 5 is_stmt 0 view .LVU18
  88              	.LBE211:
  89              	.LBB212:
  90              	.LBI212:
  91              		.loc 6 25 5 is_stmt 1 view .LVU19
  92              		.loc 6 25 5 is_stmt 0 view .LVU20
  93              	.LBE212:
  94              	.LBB213:
  95              	.LBI213:
  96              		.loc 6 25 5 is_stmt 1 view .LVU21
  97              		.loc 6 25 5 is_stmt 0 view .LVU22
  98              	.LBE213:
  99              	.LBE210:
 100              	.LBB214:
 101              	.LBI214:
 102              		.file 7 "../../libDaisy//src/hid/switch.h"
   1:../../libDaisy//src/hid/switch.h **** #pragma once
   2:../../libDaisy//src/hid/switch.h **** #ifndef DSY_SWITCH_H
   3:../../libDaisy//src/hid/switch.h **** #define DSY_SWITCH_H
   4:../../libDaisy//src/hid/switch.h **** #include "daisy_core.h"
   5:../../libDaisy//src/hid/switch.h **** #include "per/gpio.h"
   6:../../libDaisy//src/hid/switch.h **** #include "sys/system.h"
   7:../../libDaisy//src/hid/switch.h **** 
   8:../../libDaisy//src/hid/switch.h **** namespace daisy
   9:../../libDaisy//src/hid/switch.h **** {
  10:../../libDaisy//src/hid/switch.h **** /** 
  11:../../libDaisy//src/hid/switch.h ****     Generic Class for handling momentary/latching switches \n 
  12:../../libDaisy//src/hid/switch.h ****     Inspired/influenced by Mutable Instruments (pichenettes) Switch classes
  13:../../libDaisy//src/hid/switch.h ****     @author Stephen Hensley
  14:../../libDaisy//src/hid/switch.h ****     @date December 2019
  15:../../libDaisy//src/hid/switch.h ****     @ingroup controls
  16:../../libDaisy//src/hid/switch.h **** */
  17:../../libDaisy//src/hid/switch.h **** class Switch
  18:../../libDaisy//src/hid/switch.h **** {
  19:../../libDaisy//src/hid/switch.h ****   public:
  20:../../libDaisy//src/hid/switch.h ****     /** Specifies the expected behavior of the switch */
  21:../../libDaisy//src/hid/switch.h ****     enum Type
  22:../../libDaisy//src/hid/switch.h ****     {
  23:../../libDaisy//src/hid/switch.h ****         TYPE_TOGGLE,    /**< & */
  24:../../libDaisy//src/hid/switch.h ****         TYPE_MOMENTARY, /**< & */
  25:../../libDaisy//src/hid/switch.h ****     };
  26:../../libDaisy//src/hid/switch.h ****     /** Specifies whether the pressed is HIGH or LOW. */
  27:../../libDaisy//src/hid/switch.h ****     enum Polarity
ARM GAS  /var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s 			page 13


  28:../../libDaisy//src/hid/switch.h ****     {
  29:../../libDaisy//src/hid/switch.h ****         POLARITY_NORMAL,   /**< & */
  30:../../libDaisy//src/hid/switch.h ****         POLARITY_INVERTED, /**< & */
  31:../../libDaisy//src/hid/switch.h ****     };
  32:../../libDaisy//src/hid/switch.h **** 
  33:../../libDaisy//src/hid/switch.h ****     /** Specifies whether to use built-in Pull Up/Down resistors to hold button at a given state wh
  34:../../libDaisy//src/hid/switch.h ****     enum Pull
  35:../../libDaisy//src/hid/switch.h ****     {
  36:../../libDaisy//src/hid/switch.h ****         PULL_UP,   /**< & */
  37:../../libDaisy//src/hid/switch.h ****         PULL_DOWN, /**< & */
  38:../../libDaisy//src/hid/switch.h ****         PULL_NONE, /**< & */
  39:../../libDaisy//src/hid/switch.h ****     };
  40:../../libDaisy//src/hid/switch.h **** 
  41:../../libDaisy//src/hid/switch.h ****     Switch() {}
  42:../../libDaisy//src/hid/switch.h ****     ~Switch() {}
 103              		.loc 7 42 5 is_stmt 1 view .LVU23
 104              		.loc 7 42 5 is_stmt 0 view .LVU24
 105              	.LBE214:
 106              	.LBB215:
 107              	.LBI215:
 108              		.loc 7 42 5 is_stmt 1 view .LVU25
 109              		.loc 7 42 5 is_stmt 0 view .LVU26
 110              	.LBE215:
 111              	.LBB216:
 112              	.LBI216:
 113              		.file 8 "../../libDaisy//src/hid/ctrl.h"
   1:../../libDaisy//src/hid/ctrl.h **** #pragma once
   2:../../libDaisy//src/hid/ctrl.h **** #ifndef DSY_KNOB_H
   3:../../libDaisy//src/hid/ctrl.h **** #define DSY_KNOB_H /**< & */
   4:../../libDaisy//src/hid/ctrl.h **** #include <stdint.h>
   5:../../libDaisy//src/hid/ctrl.h **** 
   6:../../libDaisy//src/hid/ctrl.h **** #ifdef __cplusplus
   7:../../libDaisy//src/hid/ctrl.h **** namespace daisy
   8:../../libDaisy//src/hid/ctrl.h **** {
   9:../../libDaisy//src/hid/ctrl.h **** /**
  10:../../libDaisy//src/hid/ctrl.h ****     @brief Hardware Interface for control inputs \n 
  11:../../libDaisy//src/hid/ctrl.h ****     Primarily designed for ADC input controls such as \n 
  12:../../libDaisy//src/hid/ctrl.h ****     potentiometers, and control voltage. \n 
  13:../../libDaisy//src/hid/ctrl.h ****     @author Stephen Hensley
  14:../../libDaisy//src/hid/ctrl.h ****     @date November 2019
  15:../../libDaisy//src/hid/ctrl.h ****     @ingroup controls
  16:../../libDaisy//src/hid/ctrl.h **** */
  17:../../libDaisy//src/hid/ctrl.h **** class AnalogControl
  18:../../libDaisy//src/hid/ctrl.h **** {
  19:../../libDaisy//src/hid/ctrl.h ****   public:
  20:../../libDaisy//src/hid/ctrl.h ****     /** Constructor */
  21:../../libDaisy//src/hid/ctrl.h ****     AnalogControl() {}
  22:../../libDaisy//src/hid/ctrl.h ****     /** destructor */
  23:../../libDaisy//src/hid/ctrl.h ****     ~AnalogControl() {}
 114              		.loc 8 23 5 is_stmt 1 view .LVU27
 115              		.loc 8 23 5 is_stmt 0 view .LVU28
 116              	.LBE216:
 117              	.LBB217:
 118              	.LBI217:
 119              		.loc 8 23 5 is_stmt 1 view .LVU29
 120              		.loc 8 23 5 is_stmt 0 view .LVU30
 121              	.LBE217:
ARM GAS  /var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s 			page 14


 122              	.LBB218:
 123              	.LBI218:
 124              		.file 9 "../../libDaisy//src/hid/encoder.h"
   1:../../libDaisy//src/hid/encoder.h **** #pragma once
   2:../../libDaisy//src/hid/encoder.h **** #ifndef DSY_ENCODER_H
   3:../../libDaisy//src/hid/encoder.h **** #define DSY_ENCODER_H
   4:../../libDaisy//src/hid/encoder.h **** #include "daisy_core.h"
   5:../../libDaisy//src/hid/encoder.h **** #include "per/gpio.h"
   6:../../libDaisy//src/hid/encoder.h **** #include "hid/switch.h"
   7:../../libDaisy//src/hid/encoder.h **** 
   8:../../libDaisy//src/hid/encoder.h **** namespace daisy
   9:../../libDaisy//src/hid/encoder.h **** {
  10:../../libDaisy//src/hid/encoder.h **** /** 
  11:../../libDaisy//src/hid/encoder.h ****     @brief Generic Class for handling Quadrature Encoders \n 
  12:../../libDaisy//src/hid/encoder.h ****     Inspired/influenced by Mutable Instruments (pichenettes) Encoder classes
  13:../../libDaisy//src/hid/encoder.h ****     @author Stephen Hensley
  14:../../libDaisy//src/hid/encoder.h ****     @date December 2019
  15:../../libDaisy//src/hid/encoder.h ****     @ingroup controls
  16:../../libDaisy//src/hid/encoder.h **** */
  17:../../libDaisy//src/hid/encoder.h **** class Encoder
  18:../../libDaisy//src/hid/encoder.h **** {
  19:../../libDaisy//src/hid/encoder.h ****   public:
  20:../../libDaisy//src/hid/encoder.h ****     Encoder() {}
  21:../../libDaisy//src/hid/encoder.h ****     ~Encoder() {}
 125              		.loc 9 21 5 is_stmt 1 view .LVU31
 126              	.LBB219:
 127              	.LBI219:
 128              		.loc 7 42 5 view .LVU32
 129              		.loc 7 42 5 is_stmt 0 view .LVU33
 130              	.LBE219:
 131              	.LBE218:
 132              	.LBB220:
 133              	.LBI220:
 134              		.file 10 "../../libDaisy//src/daisy_seed.h"
   1:../../libDaisy//src/daisy_seed.h **** #pragma once
   2:../../libDaisy//src/daisy_seed.h **** #ifndef DSY_SEED_H
   3:../../libDaisy//src/daisy_seed.h **** #define DSY_SEED_H
   4:../../libDaisy//src/daisy_seed.h **** 
   5:../../libDaisy//src/daisy_seed.h **** #include "daisy.h"
   6:../../libDaisy//src/daisy_seed.h **** 
   7:../../libDaisy//src/daisy_seed.h **** //Uncomment this out if you're still using the rev2 hardware
   8:../../libDaisy//src/daisy_seed.h **** //#define SEED_REV2
   9:../../libDaisy//src/daisy_seed.h **** 
  10:../../libDaisy//src/daisy_seed.h **** namespace daisy
  11:../../libDaisy//src/daisy_seed.h **** {
  12:../../libDaisy//src/daisy_seed.h **** /**
  13:../../libDaisy//src/daisy_seed.h ****    @brief This is the higher-level interface for the Daisy board. \n 
  14:../../libDaisy//src/daisy_seed.h ****     All basic peripheral configuration/initialization is setup here. \n
  15:../../libDaisy//src/daisy_seed.h **** 
  16:../../libDaisy//src/daisy_seed.h ****    @ingroup boards
  17:../../libDaisy//src/daisy_seed.h **** */
  18:../../libDaisy//src/daisy_seed.h **** class DaisySeed
  19:../../libDaisy//src/daisy_seed.h **** {
  20:../../libDaisy//src/daisy_seed.h ****   public:
  21:../../libDaisy//src/daisy_seed.h ****     DaisySeed() {}
  22:../../libDaisy//src/daisy_seed.h ****     ~DaisySeed() {}
 135              		.loc 10 22 5 is_stmt 1 view .LVU34
ARM GAS  /var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s 			page 15


 136              	.LBB221:
 137              	.LBI221:
 138              		.file 11 "../../libDaisy//src/sys/system.h"
   1:../../libDaisy//src/sys/system.h **** #ifndef DSY_SYSTEM_H
   2:../../libDaisy//src/sys/system.h **** #define DSY_SYSTEM_H
   3:../../libDaisy//src/sys/system.h **** 
   4:../../libDaisy//src/sys/system.h **** #ifndef UNIT_TEST // for unit tests, a dummy implementation is provided below
   5:../../libDaisy//src/sys/system.h **** 
   6:../../libDaisy//src/sys/system.h **** #include <cstdint>
   7:../../libDaisy//src/sys/system.h **** #include "per/tim.h"
   8:../../libDaisy//src/sys/system.h **** 
   9:../../libDaisy//src/sys/system.h **** namespace daisy
  10:../../libDaisy//src/sys/system.h **** {
  11:../../libDaisy//src/sys/system.h **** /** A handle for interacting with the Core System.
  12:../../libDaisy//src/sys/system.h ****  ** This includes the Clock tree, MPU, global DMA initialization,
  13:../../libDaisy//src/sys/system.h ****  ** cache handling, and any other necessary global initiailzation
  14:../../libDaisy//src/sys/system.h ****  **
  15:../../libDaisy//src/sys/system.h ****  ** @author shensley
  16:../../libDaisy//src/sys/system.h ****  ** @ingroup system
  17:../../libDaisy//src/sys/system.h ****  */
  18:../../libDaisy//src/sys/system.h **** class System
  19:../../libDaisy//src/sys/system.h **** {
  20:../../libDaisy//src/sys/system.h ****   public:
  21:../../libDaisy//src/sys/system.h ****     /** Contains settings for initializing the System */
  22:../../libDaisy//src/sys/system.h ****     struct Config
  23:../../libDaisy//src/sys/system.h ****     {
  24:../../libDaisy//src/sys/system.h ****         /** Specifies the system clock frequency that feeds APB/AHB clocks, etc. */
  25:../../libDaisy//src/sys/system.h ****         enum class SysClkFreq
  26:../../libDaisy//src/sys/system.h ****         {
  27:../../libDaisy//src/sys/system.h ****             FREQ_400MHZ,
  28:../../libDaisy//src/sys/system.h ****             FREQ_480MHZ,
  29:../../libDaisy//src/sys/system.h ****         };
  30:../../libDaisy//src/sys/system.h **** 
  31:../../libDaisy//src/sys/system.h ****         /** Method to call on the struct to set to defaults
  32:../../libDaisy//src/sys/system.h ****          ** CPU Freq set to 400MHz
  33:../../libDaisy//src/sys/system.h ****          ** Cache Enabled
  34:../../libDaisy//src/sys/system.h ****          ** */
  35:../../libDaisy//src/sys/system.h ****         void Defaults()
  36:../../libDaisy//src/sys/system.h ****         {
  37:../../libDaisy//src/sys/system.h ****             cpu_freq    = SysClkFreq::FREQ_400MHZ;
  38:../../libDaisy//src/sys/system.h ****             use_dcache  = true;
  39:../../libDaisy//src/sys/system.h ****             use_icache  = true;
  40:../../libDaisy//src/sys/system.h ****             skip_clocks = false;
  41:../../libDaisy//src/sys/system.h ****         }
  42:../../libDaisy//src/sys/system.h **** 
  43:../../libDaisy//src/sys/system.h ****         /** Method to call on the struct to set to boost mode:
  44:../../libDaisy//src/sys/system.h ****          ** CPU Freq set to 480MHz
  45:../../libDaisy//src/sys/system.h ****          ** Cache Enabled
  46:../../libDaisy//src/sys/system.h ****          ** */
  47:../../libDaisy//src/sys/system.h ****         void Boost()
  48:../../libDaisy//src/sys/system.h ****         {
  49:../../libDaisy//src/sys/system.h ****             cpu_freq    = SysClkFreq::FREQ_480MHZ;
  50:../../libDaisy//src/sys/system.h ****             use_dcache  = true;
  51:../../libDaisy//src/sys/system.h ****             use_icache  = true;
  52:../../libDaisy//src/sys/system.h ****             skip_clocks = false;
  53:../../libDaisy//src/sys/system.h ****         }
  54:../../libDaisy//src/sys/system.h **** 
ARM GAS  /var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s 			page 16


  55:../../libDaisy//src/sys/system.h ****         SysClkFreq cpu_freq;
  56:../../libDaisy//src/sys/system.h ****         bool       use_dcache;
  57:../../libDaisy//src/sys/system.h ****         bool       use_icache;
  58:../../libDaisy//src/sys/system.h ****         bool       skip_clocks;
  59:../../libDaisy//src/sys/system.h ****     };
  60:../../libDaisy//src/sys/system.h **** 
  61:../../libDaisy//src/sys/system.h ****     /** Describes the different regions of memory available to the Daisy */
  62:../../libDaisy//src/sys/system.h ****     enum MemoryRegion
  63:../../libDaisy//src/sys/system.h ****     {
  64:../../libDaisy//src/sys/system.h ****         INTERNAL_FLASH = 0,
  65:../../libDaisy//src/sys/system.h ****         ITCMRAM,
  66:../../libDaisy//src/sys/system.h ****         DTCMRAM,
  67:../../libDaisy//src/sys/system.h ****         SRAM_D1,
  68:../../libDaisy//src/sys/system.h ****         SRAM_D2,
  69:../../libDaisy//src/sys/system.h ****         SRAM_D3,
  70:../../libDaisy//src/sys/system.h ****         SDRAM,
  71:../../libDaisy//src/sys/system.h ****         QSPI,
  72:../../libDaisy//src/sys/system.h ****         INVALID_ADDRESS,
  73:../../libDaisy//src/sys/system.h ****     };
  74:../../libDaisy//src/sys/system.h **** 
  75:../../libDaisy//src/sys/system.h ****     /** Bootloader struct for controlling bootloading parameters */
  76:../../libDaisy//src/sys/system.h ****     struct BootInfo
  77:../../libDaisy//src/sys/system.h ****     {
  78:../../libDaisy//src/sys/system.h ****         enum class Type : uint32_t
  79:../../libDaisy//src/sys/system.h ****         {
  80:../../libDaisy//src/sys/system.h ****             INVALID      = 0x00000000,
  81:../../libDaisy//src/sys/system.h ****             JUMP         = 0xDEADBEEF,
  82:../../libDaisy//src/sys/system.h ****             SKIP_TIMEOUT = 0x5AFEB007,
  83:../../libDaisy//src/sys/system.h ****             INF_TIMEOUT  = 0xB0074EFA,
  84:../../libDaisy//src/sys/system.h ****         } status;
  85:../../libDaisy//src/sys/system.h ****         uint32_t data;
  86:../../libDaisy//src/sys/system.h ****         enum class Version : uint32_t
  87:../../libDaisy//src/sys/system.h ****         {
  88:../../libDaisy//src/sys/system.h ****             LT_v6_0 = 0, // Less than v6.0
  89:../../libDaisy//src/sys/system.h ****             NONE,        // No bootloader present
  90:../../libDaisy//src/sys/system.h ****             v6_0,        // v6.0
  91:../../libDaisy//src/sys/system.h ****             v6_1,        // v6.1 or greater
  92:../../libDaisy//src/sys/system.h ****             LAST
  93:../../libDaisy//src/sys/system.h ****         } version;
  94:../../libDaisy//src/sys/system.h ****     };
  95:../../libDaisy//src/sys/system.h **** 
  96:../../libDaisy//src/sys/system.h ****     System() {}
  97:../../libDaisy//src/sys/system.h ****     ~System() {}
 139              		.loc 11 97 5 view .LVU35
 140              		.loc 11 97 5 is_stmt 0 view .LVU36
 141              	.LBE221:
 142              	.LBB222:
 143              	.LBI222:
 144              		.file 12 "../../libDaisy//src/hid/usb.h"
   1:../../libDaisy//src/hid/usb.h **** #pragma once
   2:../../libDaisy//src/hid/usb.h **** #ifndef DSY_HID_USB_H
   3:../../libDaisy//src/hid/usb.h **** #define DSY_HID_USB_H
   4:../../libDaisy//src/hid/usb.h **** #include <stdint.h>
   5:../../libDaisy//src/hid/usb.h **** #include <stdlib.h>
   6:../../libDaisy//src/hid/usb.h **** 
   7:../../libDaisy//src/hid/usb.h **** namespace daisy
   8:../../libDaisy//src/hid/usb.h **** /** @addtogroup human_interface
ARM GAS  /var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s 			page 17


   9:../../libDaisy//src/hid/usb.h ****     @{
  10:../../libDaisy//src/hid/usb.h **** */
  11:../../libDaisy//src/hid/usb.h **** 
  12:../../libDaisy//src/hid/usb.h **** {
  13:../../libDaisy//src/hid/usb.h **** /** 
  14:../../libDaisy//src/hid/usb.h ****     @brief Interface for initializing and using the USB Peripherals on the daisy
  15:../../libDaisy//src/hid/usb.h ****     @author Stephen Hensley
  16:../../libDaisy//src/hid/usb.h ****     @date December 2019
  17:../../libDaisy//src/hid/usb.h **** */
  18:../../libDaisy//src/hid/usb.h **** class UsbHandle
  19:../../libDaisy//src/hid/usb.h **** {
  20:../../libDaisy//src/hid/usb.h ****   public:
  21:../../libDaisy//src/hid/usb.h ****     /** Return values for USBHandle Functions */
  22:../../libDaisy//src/hid/usb.h ****     enum class Result
  23:../../libDaisy//src/hid/usb.h ****     {
  24:../../libDaisy//src/hid/usb.h ****         OK,
  25:../../libDaisy//src/hid/usb.h ****         ERR,
  26:../../libDaisy//src/hid/usb.h ****     };
  27:../../libDaisy//src/hid/usb.h **** 
  28:../../libDaisy//src/hid/usb.h ****     /** Specified which of the two USB Peripherals to initialize. */
  29:../../libDaisy//src/hid/usb.h ****     enum UsbPeriph
  30:../../libDaisy//src/hid/usb.h ****     {
  31:../../libDaisy//src/hid/usb.h ****         FS_INTERNAL, /**< Internal pin */
  32:../../libDaisy//src/hid/usb.h ****         FS_EXTERNAL, /**< FS External D+ pin is Pin 38 (GPIO32). FS External D- pin is Pin 37 (GPIO
  33:../../libDaisy//src/hid/usb.h ****         FS_BOTH,     /**< Both */
  34:../../libDaisy//src/hid/usb.h ****     };
  35:../../libDaisy//src/hid/usb.h **** 
  36:../../libDaisy//src/hid/usb.h **** 
  37:../../libDaisy//src/hid/usb.h ****     /** Function called upon reception of a buffer */
  38:../../libDaisy//src/hid/usb.h ****     typedef void (*ReceiveCallback)(uint8_t* buff, uint32_t* len);
  39:../../libDaisy//src/hid/usb.h **** 
  40:../../libDaisy//src/hid/usb.h ****     UsbHandle() {}
  41:../../libDaisy//src/hid/usb.h **** 
  42:../../libDaisy//src/hid/usb.h ****     ~UsbHandle() {}
 145              		.loc 12 42 5 is_stmt 1 view .LVU37
 146              		.loc 12 42 5 is_stmt 0 view .LVU38
 147              	.LBE222:
 148              	.LBB223:
 149              	.LBI223:
 150              		.file 13 "../../libDaisy//src/per/adc.h"
   1:../../libDaisy//src/per/adc.h **** #pragma once
   2:../../libDaisy//src/per/adc.h **** #ifndef DSY_ADC_H
   3:../../libDaisy//src/per/adc.h **** #define DSY_ADC_H /**< Macro */
   4:../../libDaisy//src/per/adc.h **** #include <stdint.h>
   5:../../libDaisy//src/per/adc.h **** #include <stdlib.h>
   6:../../libDaisy//src/per/adc.h **** #include "daisy_core.h"
   7:../../libDaisy//src/per/adc.h **** #include "per/gpio.h"
   8:../../libDaisy//src/per/adc.h **** 
   9:../../libDaisy//src/per/adc.h **** #define DSY_ADC_MAX_CHANNELS 16 /**< Maximum number of ADC channels */
  10:../../libDaisy//src/per/adc.h **** 
  11:../../libDaisy//src/per/adc.h **** namespace daisy
  12:../../libDaisy//src/per/adc.h **** {
  13:../../libDaisy//src/per/adc.h **** /** @addtogroup per_analog
  14:../../libDaisy//src/per/adc.h ****     @{
  15:../../libDaisy//src/per/adc.h **** */
  16:../../libDaisy//src/per/adc.h **** 
  17:../../libDaisy//src/per/adc.h **** /* While there may not be many configuration options here,
ARM GAS  /var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s 			page 18


  18:../../libDaisy//src/per/adc.h **** using a struct like this allows us to add more configuration
  19:../../libDaisy//src/per/adc.h **** later without breaking existing functionality.
  20:../../libDaisy//src/per/adc.h **** */
  21:../../libDaisy//src/per/adc.h **** 
  22:../../libDaisy//src/per/adc.h **** /** @brief   Configuration Structure for an ADC Channel 
  23:../../libDaisy//src/per/adc.h ****  *  @details This can be used to configure a a single input, 
  24:../../libDaisy//src/per/adc.h ****  *           or a multiplexed input, allowing up to 8 inputs on 
  25:../../libDaisy//src/per/adc.h ****  *           one channel.
  26:../../libDaisy//src/per/adc.h ****  *  @note    Sharing data lines to multiple muxes _is_ possible, but
  27:../../libDaisy//src/per/adc.h ****  *           each channel sharing data lines must be set to the maximum
  28:../../libDaisy//src/per/adc.h ****  *           number of channels, even if some multiplexers have fewer
  29:../../libDaisy//src/per/adc.h ****  *           inputs connected.
  30:../../libDaisy//src/per/adc.h **** */
  31:../../libDaisy//src/per/adc.h **** struct AdcChannelConfig
  32:../../libDaisy//src/per/adc.h **** {
  33:../../libDaisy//src/per/adc.h ****     /** Which pin to use for multiplexing */
  34:../../libDaisy//src/per/adc.h ****     enum MuxPin
  35:../../libDaisy//src/per/adc.h ****     {
  36:../../libDaisy//src/per/adc.h ****         MUX_SEL_0,    /**< & */
  37:../../libDaisy//src/per/adc.h ****         MUX_SEL_1,    /**< & */
  38:../../libDaisy//src/per/adc.h ****         MUX_SEL_2,    /**< & */
  39:../../libDaisy//src/per/adc.h ****         MUX_SEL_LAST, /**< & */
  40:../../libDaisy//src/per/adc.h ****     };
  41:../../libDaisy//src/per/adc.h **** 
  42:../../libDaisy//src/per/adc.h ****     /** \brief per channel conversion speed added to fixed time based on bitdepth, etc. */
  43:../../libDaisy//src/per/adc.h ****     enum ConversionSpeed
  44:../../libDaisy//src/per/adc.h ****     {
  45:../../libDaisy//src/per/adc.h ****         SPEED_1CYCLES_5,
  46:../../libDaisy//src/per/adc.h ****         SPEED_2CYCLES_5,
  47:../../libDaisy//src/per/adc.h ****         SPEED_8CYCLES_5,
  48:../../libDaisy//src/per/adc.h ****         SPEED_16CYCLES_5,
  49:../../libDaisy//src/per/adc.h ****         SPEED_32CYCLES_5,
  50:../../libDaisy//src/per/adc.h ****         SPEED_64CYCLES_5,
  51:../../libDaisy//src/per/adc.h ****         SPEED_387CYCLES_5,
  52:../../libDaisy//src/per/adc.h ****         SPEED_810CYCLES_5,
  53:../../libDaisy//src/per/adc.h ****     };
  54:../../libDaisy//src/per/adc.h **** 
  55:../../libDaisy//src/per/adc.h ****     /** Initializes a single ADC pin as an ADC. 
  56:../../libDaisy//src/per/adc.h ****     \param pin Pin to init.
  57:../../libDaisy//src/per/adc.h ****     \param speed conversion speed for this pin defaults to 8.5 cycles
  58:../../libDaisy//src/per/adc.h ****      */
  59:../../libDaisy//src/per/adc.h ****     void InitSingle(dsy_gpio_pin pin, ConversionSpeed speed = SPEED_8CYCLES_5);
  60:../../libDaisy//src/per/adc.h **** 
  61:../../libDaisy//src/per/adc.h ****     /** 
  62:../../libDaisy//src/per/adc.h ****     Initializes a single ADC pin as a Multiplexed ADC.
  63:../../libDaisy//src/per/adc.h ****     Requires a CD405X Multiplexer connected to the pin.
  64:../../libDaisy//src/per/adc.h ****     You only need to supply the mux pins that are required,
  65:../../libDaisy//src/per/adc.h ****     e.g. a 4052 mux would only require mux_0 and mux_1.
  66:../../libDaisy//src/per/adc.h ****     Internal Callbacks handle the pin addressing.
  67:../../libDaisy//src/per/adc.h ****     \param adc_pin &
  68:../../libDaisy//src/per/adc.h ****     \param mux_channels must be 1-8
  69:../../libDaisy//src/per/adc.h ****     \param mux_0 First mux pin
  70:../../libDaisy//src/per/adc.h ****     \param mux_1 Second mux pin
  71:../../libDaisy//src/per/adc.h ****     \param mux_2 Third mux pin
  72:../../libDaisy//src/per/adc.h ****     \param speed conversion speed for this pin defaults to 8.5 cycles
  73:../../libDaisy//src/per/adc.h ****     */
  74:../../libDaisy//src/per/adc.h ****     void InitMux(dsy_gpio_pin    adc_pin,
ARM GAS  /var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s 			page 19


  75:../../libDaisy//src/per/adc.h ****                  size_t          mux_channels,
  76:../../libDaisy//src/per/adc.h ****                  dsy_gpio_pin    mux_0,
  77:../../libDaisy//src/per/adc.h ****                  dsy_gpio_pin    mux_1 = {DSY_GPIOX, 0},
  78:../../libDaisy//src/per/adc.h ****                  dsy_gpio_pin    mux_2 = {DSY_GPIOX, 0},
  79:../../libDaisy//src/per/adc.h ****                  ConversionSpeed speed = SPEED_8CYCLES_5);
  80:../../libDaisy//src/per/adc.h **** 
  81:../../libDaisy//src/per/adc.h ****     dsy_gpio        pin_;                   /**< & */
  82:../../libDaisy//src/per/adc.h ****     dsy_gpio        mux_pin_[MUX_SEL_LAST]; /**< & */
  83:../../libDaisy//src/per/adc.h ****     uint8_t         mux_channels_;          /**< & */
  84:../../libDaisy//src/per/adc.h ****     ConversionSpeed speed_;
  85:../../libDaisy//src/per/adc.h **** };
  86:../../libDaisy//src/per/adc.h **** 
  87:../../libDaisy//src/per/adc.h **** /**
  88:../../libDaisy//src/per/adc.h ****    @brief Handler for analog to digital conversion
  89:../../libDaisy//src/per/adc.h **** */
  90:../../libDaisy//src/per/adc.h **** class AdcHandle
  91:../../libDaisy//src/per/adc.h **** {
  92:../../libDaisy//src/per/adc.h ****   public:
  93:../../libDaisy//src/per/adc.h ****     /** Supported oversampling amounts */
  94:../../libDaisy//src/per/adc.h ****     enum OverSampling
  95:../../libDaisy//src/per/adc.h ****     {
  96:../../libDaisy//src/per/adc.h ****         OVS_NONE, /**< & */
  97:../../libDaisy//src/per/adc.h ****         OVS_4,    /**< & */
  98:../../libDaisy//src/per/adc.h ****         OVS_8,    /**< & */
  99:../../libDaisy//src/per/adc.h ****         OVS_16,   /**< & */
 100:../../libDaisy//src/per/adc.h ****         OVS_32,   /**< & */
 101:../../libDaisy//src/per/adc.h ****         OVS_64,   /**< & */
 102:../../libDaisy//src/per/adc.h ****         OVS_128,  /**< & */
 103:../../libDaisy//src/per/adc.h ****         OVS_256,  /**< & */
 104:../../libDaisy//src/per/adc.h ****         OVS_512,  /**< & */
 105:../../libDaisy//src/per/adc.h ****         OVS_1024, /**< & */
 106:../../libDaisy//src/per/adc.h ****         OVS_LAST, /**< & */
 107:../../libDaisy//src/per/adc.h ****     };
 108:../../libDaisy//src/per/adc.h **** 
 109:../../libDaisy//src/per/adc.h ****     AdcHandle() {}
 110:../../libDaisy//src/per/adc.h ****     ~AdcHandle() {}
 151              		.loc 13 110 5 is_stmt 1 view .LVU39
 152              		.loc 13 110 5 is_stmt 0 view .LVU40
 153              	.LBE223:
 154              	.LBB224:
 155              	.LBI224:
 156              		.file 14 "../../libDaisy//src/hid/audio.h"
   1:../../libDaisy//src/hid/audio.h **** #ifndef DSY_AUDIO_H
   2:../../libDaisy//src/hid/audio.h **** #define DSY_AUDIO_H /**< & */
   3:../../libDaisy//src/hid/audio.h **** 
   4:../../libDaisy//src/hid/audio.h **** #include "per/sai.h"
   5:../../libDaisy//src/hid/audio.h **** 
   6:../../libDaisy//src/hid/audio.h **** namespace daisy
   7:../../libDaisy//src/hid/audio.h **** {
   8:../../libDaisy//src/hid/audio.h **** /** @brief Audio Engine Handle
   9:../../libDaisy//src/hid/audio.h ****  *  @ingroup audio 
  10:../../libDaisy//src/hid/audio.h ****  *  @details This class allows for higher level access to an audio engine.
  11:../../libDaisy//src/hid/audio.h ****  *           If you're using a SOM like the DaisySeed or DaisyPatchSM (or any 
  12:../../libDaisy//src/hid/audio.h ****  *            board that includes one of those objects) then the intialization
  13:../../libDaisy//src/hid/audio.h ****  *            is already taken  care of.
  14:../../libDaisy//src/hid/audio.h ****  *           If you're setting up your own custom hardware, or need to make changes
  15:../../libDaisy//src/hid/audio.h ****  *           you will have to take the following steps:
ARM GAS  /var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s 			page 20


  16:../../libDaisy//src/hid/audio.h ****  *             1. Create and Initialize an SaiHandle or two depending on your requirements
  17:../../libDaisy//src/hid/audio.h ****  *             2. Initialize the Audio Handle with the desired settings and the Initialized SaiHand
  18:../../libDaisy//src/hid/audio.h ****  *             3. If the connected codec requires special configuration or initialization, do so
  19:../../libDaisy//src/hid/audio.h ****  *             4. Write a callback method using either the AudioCallback or the InterleavingAudioCa
  20:../../libDaisy//src/hid/audio.h ****  *             5. Start the Audio using one of the StartAudio function
  21:../../libDaisy//src/hid/audio.h ****  */
  22:../../libDaisy//src/hid/audio.h **** class AudioHandle
  23:../../libDaisy//src/hid/audio.h **** {
  24:../../libDaisy//src/hid/audio.h ****   public:
  25:../../libDaisy//src/hid/audio.h ****     /** Manually configurable details about the Audio Engine */
  26:../../libDaisy//src/hid/audio.h ****     /** TODO: Figure out how to get samplerate in here. */
  27:../../libDaisy//src/hid/audio.h ****     struct Config
  28:../../libDaisy//src/hid/audio.h ****     {
  29:../../libDaisy//src/hid/audio.h ****         /** number of samples to process per callback */
  30:../../libDaisy//src/hid/audio.h ****         size_t blocksize;
  31:../../libDaisy//src/hid/audio.h **** 
  32:../../libDaisy//src/hid/audio.h ****         /**< Sample rate of audio */
  33:../../libDaisy//src/hid/audio.h ****         SaiHandle::Config::SampleRate samplerate;
  34:../../libDaisy//src/hid/audio.h **** 
  35:../../libDaisy//src/hid/audio.h ****         /** factor for adjustment before and after callback for hardware that may have extra headro
  36:../../libDaisy//src/hid/audio.h ****         float postgain;
  37:../../libDaisy//src/hid/audio.h **** 
  38:../../libDaisy//src/hid/audio.h ****         /** factor for additional one-sided compensation to audio path for hardware that may
  39:../../libDaisy//src/hid/audio.h ****          *  have unequal input/output ranges
  40:../../libDaisy//src/hid/audio.h ****          */
  41:../../libDaisy//src/hid/audio.h ****         float output_compensation;
  42:../../libDaisy//src/hid/audio.h **** 
  43:../../libDaisy//src/hid/audio.h ****         /** Sets default values for config struct */
  44:../../libDaisy//src/hid/audio.h ****         Config()
  45:../../libDaisy//src/hid/audio.h ****         : blocksize(48),
  46:../../libDaisy//src/hid/audio.h ****           samplerate(SaiHandle::Config::SampleRate::SAI_48KHZ),
  47:../../libDaisy//src/hid/audio.h ****           postgain(1.f),
  48:../../libDaisy//src/hid/audio.h ****           output_compensation(1.f)
  49:../../libDaisy//src/hid/audio.h ****         {
  50:../../libDaisy//src/hid/audio.h ****         }
  51:../../libDaisy//src/hid/audio.h ****     };
  52:../../libDaisy//src/hid/audio.h **** 
  53:../../libDaisy//src/hid/audio.h ****     enum class Result
  54:../../libDaisy//src/hid/audio.h ****     {
  55:../../libDaisy//src/hid/audio.h ****         OK,
  56:../../libDaisy//src/hid/audio.h ****         ERR,
  57:../../libDaisy//src/hid/audio.h ****     };
  58:../../libDaisy//src/hid/audio.h **** 
  59:../../libDaisy//src/hid/audio.h ****     /** Non-Interleaving input buffer
  60:../../libDaisy//src/hid/audio.h ****      * Buffer arranged by float[chn][sample] 
  61:../../libDaisy//src/hid/audio.h ****      * const so that the user can't modify the input
  62:../../libDaisy//src/hid/audio.h ****      */
  63:../../libDaisy//src/hid/audio.h ****     typedef const float* const* InputBuffer;
  64:../../libDaisy//src/hid/audio.h **** 
  65:../../libDaisy//src/hid/audio.h ****     /** Non-Interleaving output buffer
  66:../../libDaisy//src/hid/audio.h ****      * Arranged by float[chn][sample] 
  67:../../libDaisy//src/hid/audio.h ****      */
  68:../../libDaisy//src/hid/audio.h ****     typedef float** OutputBuffer;
  69:../../libDaisy//src/hid/audio.h **** 
  70:../../libDaisy//src/hid/audio.h ****     /** Type for a Non-Interleaving audio callback 
  71:../../libDaisy//src/hid/audio.h ****      * Non-Interleaving audio callbacks in daisy will be of this type
  72:../../libDaisy//src/hid/audio.h ****      */
ARM GAS  /var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s 			page 21


  73:../../libDaisy//src/hid/audio.h ****     typedef void (*AudioCallback)(InputBuffer  in,
  74:../../libDaisy//src/hid/audio.h ****                                   OutputBuffer out,
  75:../../libDaisy//src/hid/audio.h ****                                   size_t       size);
  76:../../libDaisy//src/hid/audio.h **** 
  77:../../libDaisy//src/hid/audio.h ****     /** Interleaving Input buffer
  78:../../libDaisy//src/hid/audio.h ****      ** audio is prepared as { L0, R0, L1, R1, . . . LN, RN }]
  79:../../libDaisy//src/hid/audio.h ****      ** this is const, as the user shouldn't modify it
  80:../../libDaisy//src/hid/audio.h ****     */
  81:../../libDaisy//src/hid/audio.h ****     typedef const float* InterleavingInputBuffer;
  82:../../libDaisy//src/hid/audio.h **** 
  83:../../libDaisy//src/hid/audio.h ****     /** Interleaving Output buffer 
  84:../../libDaisy//src/hid/audio.h ****      ** audio is prepared as { L0, R0, L1, R1, . . . LN, RN }
  85:../../libDaisy//src/hid/audio.h ****     */
  86:../../libDaisy//src/hid/audio.h ****     typedef float* InterleavingOutputBuffer;
  87:../../libDaisy//src/hid/audio.h **** 
  88:../../libDaisy//src/hid/audio.h ****     /** Interleaving Audio Callback 
  89:../../libDaisy//src/hid/audio.h ****      * Interleaving audio callbacks in daisy must be of this type
  90:../../libDaisy//src/hid/audio.h ****      */
  91:../../libDaisy//src/hid/audio.h ****     typedef void (*InterleavingAudioCallback)(InterleavingInputBuffer  in,
  92:../../libDaisy//src/hid/audio.h ****                                               InterleavingOutputBuffer out,
  93:../../libDaisy//src/hid/audio.h ****                                               size_t                   size);
  94:../../libDaisy//src/hid/audio.h **** 
  95:../../libDaisy//src/hid/audio.h ****     AudioHandle() : pimpl_(nullptr) {}
  96:../../libDaisy//src/hid/audio.h ****     ~AudioHandle() {}
 157              		.loc 14 96 5 is_stmt 1 view .LVU41
 158              		.loc 14 96 5 is_stmt 0 view .LVU42
 159              	.LBE224:
 160              	.LBE220:
 161              		.loc 1 36 18 view .LVU43
 162 0000 7047     		bx	lr
 163              		.cfi_endproc
 164              	.LFE2565:
 166              		.weak	_ZN5daisy8DaisyPodD1Ev
 167              		.thumb_set _ZN5daisy8DaisyPodD1Ev,_ZN5daisy8DaisyPodD2Ev
 168              		.section	.text._Z19CalculateAverageBpmv,"ax",%progbits
 169              		.align	1
 170              		.global	_Z19CalculateAverageBpmv
 171              		.syntax unified
 172              		.thumb
 173              		.thumb_func
 175              	_Z19CalculateAverageBpmv:
 176              	.LFB2568:
 177              		.file 15 "src/realtime-bpm-detection.cpp"
   1:src/realtime-bpm-detection.cpp **** #include "daisy_pod.h"
   2:src/realtime-bpm-detection.cpp **** extern "C" {
   3:src/realtime-bpm-detection.cpp ****     #include "BTT.h"
   4:src/realtime-bpm-detection.cpp **** }
   5:src/realtime-bpm-detection.cpp **** 
   6:src/realtime-bpm-detection.cpp **** using namespace daisy;
   7:src/realtime-bpm-detection.cpp **** 
   8:src/realtime-bpm-detection.cpp **** DaisyPod hw;
   9:src/realtime-bpm-detection.cpp **** BTT* btt;
  10:src/realtime-bpm-detection.cpp **** 
  11:src/realtime-bpm-detection.cpp **** // Constants
  12:src/realtime-bpm-detection.cpp **** constexpr size_t kSampleRate = 48000;
  13:src/realtime-bpm-detection.cpp **** constexpr size_t kBufferSeconds = 10;
  14:src/realtime-bpm-detection.cpp **** constexpr size_t kBufferSize = kSampleRate * kBufferSeconds;
ARM GAS  /var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s 			page 22


  15:src/realtime-bpm-detection.cpp **** constexpr size_t kSecondsPerUpdate = 1;
  16:src/realtime-bpm-detection.cpp **** constexpr size_t kSamplesPerUpdate = kSampleRate * kSecondsPerUpdate;
  17:src/realtime-bpm-detection.cpp **** constexpr size_t kNumBpmValues = 10; // Number of BPM values to average
  18:src/realtime-bpm-detection.cpp **** 
  19:src/realtime-bpm-detection.cpp **** // SDRAM allocation for large audio buffer (uninitialized data)
  20:src/realtime-bpm-detection.cpp **** float DSY_SDRAM_BSS audioBuffer[kBufferSize];
  21:src/realtime-bpm-detection.cpp **** size_t bufferIndex = 0;
  22:src/realtime-bpm-detection.cpp **** size_t totalSamples = 0;
  23:src/realtime-bpm-detection.cpp **** uint32_t lastUpdateTime = 0;
  24:src/realtime-bpm-detection.cpp **** 
  25:src/realtime-bpm-detection.cpp **** // Array to store recent BPM values in SDRAM (uninitialized data)
  26:src/realtime-bpm-detection.cpp **** float DSY_SDRAM_BSS bpmValues[kNumBpmValues];
  27:src/realtime-bpm-detection.cpp **** size_t bpmIndex = 0;
  28:src/realtime-bpm-detection.cpp **** bool bpmArrayFilled = false;
  29:src/realtime-bpm-detection.cpp **** 
  30:src/realtime-bpm-detection.cpp **** // Define strings in regular flash memory (not in BSS section)
  31:src/realtime-bpm-detection.cpp **** const char bpm_format_string[] = "BPM: %.1f (Certainty: %.2f)";
  32:src/realtime-bpm-detection.cpp **** const char startup_message[] = "BPM Detection Starting...";
  33:src/realtime-bpm-detection.cpp **** const char error_message[] = "BTT initialization failed!";
  34:src/realtime-bpm-detection.cpp **** 
  35:src/realtime-bpm-detection.cpp **** // Calculate average BPM from stored values
  36:src/realtime-bpm-detection.cpp **** float CalculateAverageBpm() {
 178              		.loc 15 36 29 is_stmt 1 view -0
 179              		.cfi_startproc
 180              		@ args = 0, pretend = 0, frame = 0
 181              		@ frame_needed = 0, uses_anonymous_args = 0
 182              		@ link register save eliminated.
  37:src/realtime-bpm-detection.cpp ****     float sum = 0.0f;
 183              		.loc 15 37 5 view .LVU45
 184              	.LVL1:
  38:src/realtime-bpm-detection.cpp ****     size_t count = bpmArrayFilled ? kNumBpmValues : bpmIndex;
 185              		.loc 15 38 5 view .LVU46
 186              		.loc 15 38 35 is_stmt 0 view .LVU47
 187 0000 0D4B     		ldr	r3, .L9
 188 0002 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 189 0004 2BB9     		cbnz	r3, .L6
 190              		.loc 15 38 35 discriminator 2 view .LVU48
 191 0006 0D4B     		ldr	r3, .L9+4
 192 0008 1B68     		ldr	r3, [r3]
 193              	.LVL2:
  39:src/realtime-bpm-detection.cpp ****     
  40:src/realtime-bpm-detection.cpp ****     if (count == 0) return 0.0f;
 194              		.loc 15 40 5 is_stmt 1 discriminator 2 view .LVU49
 195 000a 1BB9     		cbnz	r3, .L3
 196              		.loc 15 40 28 is_stmt 0 view .LVU50
 197 000c 9FED0C0A 		vldr.32	s0, .L9+8
  41:src/realtime-bpm-detection.cpp ****     
  42:src/realtime-bpm-detection.cpp ****     for (size_t i = 0; i < count; i++) {
  43:src/realtime-bpm-detection.cpp ****         sum += bpmValues[i];
  44:src/realtime-bpm-detection.cpp ****     }
  45:src/realtime-bpm-detection.cpp ****     
  46:src/realtime-bpm-detection.cpp ****     return sum / count;
  47:src/realtime-bpm-detection.cpp **** }
 198              		.loc 15 47 1 view .LVU51
 199 0010 7047     		bx	lr
 200              	.LVL3:
 201              	.L6:
ARM GAS  /var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s 			page 23


  38:src/realtime-bpm-detection.cpp ****     
 202              		.loc 15 38 35 view .LVU52
 203 0012 0A23     		movs	r3, #10
 204              	.L3:
 205              	.LVL4:
 206              	.LBB225:
  42:src/realtime-bpm-detection.cpp ****         sum += bpmValues[i];
 207              		.loc 15 42 26 is_stmt 1 discriminator 3 view .LVU53
 208 0014 0B49     		ldr	r1, .L9+12
 209              	.LBE225:
  38:src/realtime-bpm-detection.cpp ****     
 210              		.loc 15 38 35 is_stmt 0 discriminator 3 view .LVU54
 211 0016 0022     		movs	r2, #0
 212 0018 9FED097A 		vldr.32	s14, .L9+8
 213              	.LVL5:
 214              	.L5:
 215              	.LBB226:
  43:src/realtime-bpm-detection.cpp ****     }
 216              		.loc 15 43 9 is_stmt 1 discriminator 2 view .LVU55
  42:src/realtime-bpm-detection.cpp ****         sum += bpmValues[i];
 217              		.loc 15 42 5 is_stmt 0 discriminator 2 view .LVU56
 218 001c 0132     		adds	r2, r2, #1
 219              	.LVL6:
  43:src/realtime-bpm-detection.cpp ****     }
 220              		.loc 15 43 27 discriminator 2 view .LVU57
 221 001e F1EC017A 		vldmia.32	r1!, {s15}
  42:src/realtime-bpm-detection.cpp ****         sum += bpmValues[i];
 222              		.loc 15 42 26 discriminator 2 view .LVU58
 223 0022 9342     		cmp	r3, r2
  43:src/realtime-bpm-detection.cpp ****     }
 224              		.loc 15 43 13 discriminator 2 view .LVU59
 225 0024 37EE277A 		vadd.f32	s14, s14, s15
 226              	.LVL7:
  42:src/realtime-bpm-detection.cpp ****         sum += bpmValues[i];
 227              		.loc 15 42 5 is_stmt 1 discriminator 2 view .LVU60
  42:src/realtime-bpm-detection.cpp ****         sum += bpmValues[i];
 228              		.loc 15 42 26 discriminator 2 view .LVU61
 229 0028 F8D1     		bne	.L5
 230              	.LBE226:
  46:src/realtime-bpm-detection.cpp **** }
 231              		.loc 15 46 5 view .LVU62
  46:src/realtime-bpm-detection.cpp **** }
 232              		.loc 15 46 16 is_stmt 0 view .LVU63
 233 002a 07EE903A 		vmov	s15, r3	@ int
 234 002e F8EEE77A 		vcvt.f32.s32	s15, s15
  46:src/realtime-bpm-detection.cpp **** }
 235              		.loc 15 46 18 view .LVU64
 236 0032 87EE270A 		vdiv.f32	s0, s14, s15
 237 0036 7047     		bx	lr
 238              	.L10:
 239              		.align	2
 240              	.L9:
 241 0038 00000000 		.word	.LANCHOR0
 242 003c 00000000 		.word	.LANCHOR1
 243 0040 00000000 		.word	0
 244 0044 00000000 		.word	.LANCHOR2
 245              		.cfi_endproc
ARM GAS  /var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s 			page 24


 246              	.LFE2568:
 248              		.section	.dtcmram,"ax",%progbits
 249              		.align	1
 250              		.global	_Z10ProcessBpmv
 251              		.syntax unified
 252              		.thumb
 253              		.thumb_func
 255              	_Z10ProcessBpmv:
 256              	.LFB2569:
  48:src/realtime-bpm-detection.cpp **** 
  49:src/realtime-bpm-detection.cpp **** // Process BPM using BTT library - place in DTCM for stack-heavy function
  50:src/realtime-bpm-detection.cpp **** __attribute__((section(".dtcmram"))) void ProcessBpm() {
 257              		.loc 15 50 56 is_stmt 1 view -0
 258              		.cfi_startproc
 259              		@ args = 0, pretend = 0, frame = 0
 260              		@ frame_needed = 0, uses_anonymous_args = 0
  51:src/realtime-bpm-detection.cpp ****     // Only process when we have enough data
  52:src/realtime-bpm-detection.cpp ****     if (totalSamples >= kBufferSize) {
 261              		.loc 15 52 5 view .LVU66
 262              	.LBB231:
 263 0000 1C4B     		ldr	r3, .L14
 264 0002 1A68     		ldr	r2, [r3]
 265 0004 1C4B     		ldr	r3, .L14+4
 266 0006 9A42     		cmp	r2, r3
 267              	.LBE231:
  50:src/realtime-bpm-detection.cpp ****     // Only process when we have enough data
 268              		.loc 15 50 56 is_stmt 0 view .LVU67
 269 0008 10B5     		push	{r4, lr}
 270              		.cfi_def_cfa_offset 8
 271              		.cfi_offset 4, -8
 272              		.cfi_offset 14, -4
 273 000a 2DED028B 		vpush.64	{d8}
 274              		.cfi_def_cfa_offset 16
 275              		.cfi_offset 80, -16
 276              		.cfi_offset 81, -12
 277 000e 82B0     		sub	sp, sp, #8
 278              		.cfi_def_cfa_offset 24
 279              	.LBB235:
 280              		.loc 15 52 5 view .LVU68
 281 0010 2CD9     		bls	.L11
 282              	.LBB232:
  53:src/realtime-bpm-detection.cpp ****         // Process the audio buffer with BTT
  54:src/realtime-bpm-detection.cpp ****         btt_process(btt, audioBuffer, kBufferSize);
 283              		.loc 15 54 9 is_stmt 1 view .LVU69
 284              		.loc 15 54 20 is_stmt 0 view .LVU70
 285 0012 1A4C     		ldr	r4, .L14+8
 286 0014 1A4A     		ldr	r2, .L14+12
 287 0016 1B49     		ldr	r1, .L14+16
 288 0018 2068     		ldr	r0, [r4]
 289 001a FFF7FEFF 		bl	btt_process
 290              	.LVL8:
  55:src/realtime-bpm-detection.cpp ****         
  56:src/realtime-bpm-detection.cpp ****         // Get the BPM from the BTT library
  57:src/realtime-bpm-detection.cpp ****         float bpm = btt_get_tempo_bpm(btt);
 291              		.loc 15 57 9 is_stmt 1 view .LVU71
 292              		.loc 15 57 38 is_stmt 0 view .LVU72
 293 001e 2068     		ldr	r0, [r4]
ARM GAS  /var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s 			page 25


 294 0020 FFF7FEFF 		bl	btt_get_tempo_bpm
 295              	.LVL9:
  58:src/realtime-bpm-detection.cpp ****         
  59:src/realtime-bpm-detection.cpp ****         // Store BPM value
  60:src/realtime-bpm-detection.cpp ****         bpmValues[bpmIndex] = bpm;
 296              		.loc 15 60 9 is_stmt 1 view .LVU73
 297              		.loc 15 60 27 is_stmt 0 view .LVU74
 298 0024 1849     		ldr	r1, .L14+20
 299              		.loc 15 60 29 view .LVU75
 300 0026 194A     		ldr	r2, .L14+24
  57:src/realtime-bpm-detection.cpp ****         
 301              		.loc 15 57 42 view .LVU76
 302 0028 B7EEC00B 		vcvt.f32.f64	s0, d0
 303              	.LVL10:
 304              		.loc 15 60 27 view .LVU77
 305 002c 0B68     		ldr	r3, [r1]
 306              		.loc 15 60 29 view .LVU78
 307 002e 02EB8302 		add	r2, r2, r3, lsl #2
  61:src/realtime-bpm-detection.cpp ****         bpmIndex = (bpmIndex + 1) % kNumBpmValues;
 308              		.loc 15 61 30 view .LVU79
 309 0032 0133     		adds	r3, r3, #1
  57:src/realtime-bpm-detection.cpp ****         
 310              		.loc 15 57 42 view .LVU80
 311 0034 82ED000A 		vstr.32	s0, [r2]
 312              		.loc 15 61 9 is_stmt 1 view .LVU81
 313              		.loc 15 61 35 is_stmt 0 view .LVU82
 314 0038 0A22     		movs	r2, #10
 315 003a B3FBF2F0 		udiv	r0, r3, r2
 316 003e 02FB1033 		mls	r3, r2, r0, r3
 317              		.loc 15 61 18 view .LVU83
 318 0042 0B60     		str	r3, [r1]
  62:src/realtime-bpm-detection.cpp ****         if (bpmIndex == 0) bpmArrayFilled = true;
 319              		.loc 15 62 9 is_stmt 1 view .LVU84
 320 0044 13B9     		cbnz	r3, .L13
 321              		.loc 15 62 28 discriminator 1 view .LVU85
 322              		.loc 15 62 43 is_stmt 0 discriminator 1 view .LVU86
 323 0046 124B     		ldr	r3, .L14+28
 324 0048 0122     		movs	r2, #1
 325 004a 1A70     		strb	r2, [r3]
 326              	.L13:
  63:src/realtime-bpm-detection.cpp ****         
  64:src/realtime-bpm-detection.cpp ****         // Calculate and display average BPM
  65:src/realtime-bpm-detection.cpp ****         float avgBpm = CalculateAverageBpm();
 327              		.loc 15 65 9 is_stmt 1 view .LVU87
 328              		.loc 15 65 43 is_stmt 0 view .LVU88
 329 004c FFF7FEFF 		bl	_Z19CalculateAverageBpmv
 330              	.LVL11:
 331              		.loc 15 65 43 view .LVU89
 332 0050 B0EE408A 		vmov.f32	s16, s0
 333              	.LVL12:
  66:src/realtime-bpm-detection.cpp ****         hw.seed.PrintLine(bpm_format_string, avgBpm, btt_get_tempo_certainty(btt));
 334              		.loc 15 66 9 is_stmt 1 view .LVU90
 335              		.loc 15 66 26 is_stmt 0 view .LVU91
 336 0054 2068     		ldr	r0, [r4]
 337 0056 FFF7FEFF 		bl	btt_get_tempo_certainty
 338              	.LVL13:
 339              	.LBB233:
ARM GAS  /var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s 			page 26


 340              	.LBI233:
  23:../../libDaisy//src/daisy_seed.h **** 
  24:../../libDaisy//src/daisy_seed.h ****     /** This function used to provide a pre-initialization configuraiton 
  25:../../libDaisy//src/daisy_seed.h ****      *  it has since been deprecated, and does nothing.
  26:../../libDaisy//src/daisy_seed.h ****      */
  27:../../libDaisy//src/daisy_seed.h ****     void Configure();
  28:../../libDaisy//src/daisy_seed.h **** 
  29:../../libDaisy//src/daisy_seed.h ****     /** 
  30:../../libDaisy//src/daisy_seed.h ****     Initializes the Daisy Seed and the following peripherals:
  31:../../libDaisy//src/daisy_seed.h ****     SDRAM, QSPI, 24-bit 48kHz Audio via AK4556, Internal USB,
  32:../../libDaisy//src/daisy_seed.h ****     as well as the built-in LED and Testpoint.
  33:../../libDaisy//src/daisy_seed.h **** 
  34:../../libDaisy//src/daisy_seed.h ****     ADCs, DACs, and other special peripherals (such as I2C, SPI, etc.)
  35:../../libDaisy//src/daisy_seed.h ****     can be initialized using their specific initializers within libdaisy
  36:../../libDaisy//src/daisy_seed.h ****     for a specific application.
  37:../../libDaisy//src/daisy_seed.h ****     */
  38:../../libDaisy//src/daisy_seed.h ****     void Init(bool boost = false);
  39:../../libDaisy//src/daisy_seed.h **** 
  40:../../libDaisy//src/daisy_seed.h ****     /** 
  41:../../libDaisy//src/daisy_seed.h ****     Deinitializes all peripherals automatically handled by `Init`.
  42:../../libDaisy//src/daisy_seed.h ****     */
  43:../../libDaisy//src/daisy_seed.h ****     void DeInit();
  44:../../libDaisy//src/daisy_seed.h **** 
  45:../../libDaisy//src/daisy_seed.h ****     /** 
  46:../../libDaisy//src/daisy_seed.h ****     Wait some ms before going on.
  47:../../libDaisy//src/daisy_seed.h ****     \param del Delay time in ms.
  48:../../libDaisy//src/daisy_seed.h ****     */
  49:../../libDaisy//src/daisy_seed.h ****     void DelayMs(size_t del);
  50:../../libDaisy//src/daisy_seed.h **** 
  51:../../libDaisy//src/daisy_seed.h ****     /** 
  52:../../libDaisy//src/daisy_seed.h ****     Returns the gpio_pin corresponding to the index 0-31.
  53:../../libDaisy//src/daisy_seed.h ****     For the given GPIO on the Daisy Seed (labeled 1-32 in docs).
  54:../../libDaisy//src/daisy_seed.h ****     */
  55:../../libDaisy//src/daisy_seed.h ****     static dsy_gpio_pin GetPin(uint8_t pin_idx);
  56:../../libDaisy//src/daisy_seed.h **** 
  57:../../libDaisy//src/daisy_seed.h ****     /** Begins the audio for the seeds builtin audio.
  58:../../libDaisy//src/daisy_seed.h ****     the specified callback will get called whenever
  59:../../libDaisy//src/daisy_seed.h ****     new data is ready to be prepared.
  60:../../libDaisy//src/daisy_seed.h ****     */
  61:../../libDaisy//src/daisy_seed.h ****     void StartAudio(AudioHandle::InterleavingAudioCallback cb);
  62:../../libDaisy//src/daisy_seed.h **** 
  63:../../libDaisy//src/daisy_seed.h ****     /** Begins the audio for the seeds builtin audio.
  64:../../libDaisy//src/daisy_seed.h ****     the specified callback will get called whenever
  65:../../libDaisy//src/daisy_seed.h ****     new data is ready to be prepared.
  66:../../libDaisy//src/daisy_seed.h ****     This will use the newer non-interleaved callback.
  67:../../libDaisy//src/daisy_seed.h ****     */
  68:../../libDaisy//src/daisy_seed.h ****     void StartAudio(AudioHandle::AudioCallback cb);
  69:../../libDaisy//src/daisy_seed.h **** 
  70:../../libDaisy//src/daisy_seed.h ****     /** Changes to a new interleaved callback
  71:../../libDaisy//src/daisy_seed.h ****      */
  72:../../libDaisy//src/daisy_seed.h ****     void ChangeAudioCallback(AudioHandle::InterleavingAudioCallback cb);
  73:../../libDaisy//src/daisy_seed.h **** 
  74:../../libDaisy//src/daisy_seed.h ****     /** Changes to a new multichannel callback
  75:../../libDaisy//src/daisy_seed.h ****      */
  76:../../libDaisy//src/daisy_seed.h ****     void ChangeAudioCallback(AudioHandle::AudioCallback cb);
  77:../../libDaisy//src/daisy_seed.h **** 
  78:../../libDaisy//src/daisy_seed.h ****     /** Stops the audio if it is running. */
ARM GAS  /var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s 			page 27


  79:../../libDaisy//src/daisy_seed.h ****     void StopAudio();
  80:../../libDaisy//src/daisy_seed.h **** 
  81:../../libDaisy//src/daisy_seed.h ****     /** Updates the Audio Sample Rate, and reinitializes.
  82:../../libDaisy//src/daisy_seed.h ****      ** Audio must be stopped for this to work.
  83:../../libDaisy//src/daisy_seed.h ****      */
  84:../../libDaisy//src/daisy_seed.h ****     void SetAudioSampleRate(SaiHandle::Config::SampleRate samplerate);
  85:../../libDaisy//src/daisy_seed.h **** 
  86:../../libDaisy//src/daisy_seed.h ****     /** Returns the audio sample rate in Hz as a floating point number.
  87:../../libDaisy//src/daisy_seed.h ****      */
  88:../../libDaisy//src/daisy_seed.h ****     float AudioSampleRate();
  89:../../libDaisy//src/daisy_seed.h **** 
  90:../../libDaisy//src/daisy_seed.h ****     /** Sets the number of samples processed per channel by the audio callback.
  91:../../libDaisy//src/daisy_seed.h ****      */
  92:../../libDaisy//src/daisy_seed.h ****     void SetAudioBlockSize(size_t blocksize);
  93:../../libDaisy//src/daisy_seed.h **** 
  94:../../libDaisy//src/daisy_seed.h ****     /** Returns the number of samples per channel in a block of audio. */
  95:../../libDaisy//src/daisy_seed.h ****     size_t AudioBlockSize();
  96:../../libDaisy//src/daisy_seed.h **** 
  97:../../libDaisy//src/daisy_seed.h ****     /** Returns the rate in Hz that the Audio callback is called */
  98:../../libDaisy//src/daisy_seed.h ****     float AudioCallbackRate() const;
  99:../../libDaisy//src/daisy_seed.h **** 
 100:../../libDaisy//src/daisy_seed.h ****     /** Returns the SAI Handle for the Daisy Seed 
 101:../../libDaisy//src/daisy_seed.h ****      *  This can be useful when adding a secondary codec,
 102:../../libDaisy//src/daisy_seed.h ****      *  the result of this function can be passed to the audio reinit 
 103:../../libDaisy//src/daisy_seed.h ****      *  with an SAI2 configuration
 104:../../libDaisy//src/daisy_seed.h ****      */
 105:../../libDaisy//src/daisy_seed.h ****     const SaiHandle& AudioSaiHandle() const;
 106:../../libDaisy//src/daisy_seed.h **** 
 107:../../libDaisy//src/daisy_seed.h ****     /** Sets the state of the built in LED
 108:../../libDaisy//src/daisy_seed.h ****      */
 109:../../libDaisy//src/daisy_seed.h ****     void SetLed(bool state);
 110:../../libDaisy//src/daisy_seed.h **** 
 111:../../libDaisy//src/daisy_seed.h ****     /** Sets the state of the test point near pin 10
 112:../../libDaisy//src/daisy_seed.h ****      */
 113:../../libDaisy//src/daisy_seed.h ****     void SetTestPoint(bool state);
 114:../../libDaisy//src/daisy_seed.h **** 
 115:../../libDaisy//src/daisy_seed.h ****     /** Print formatted debug log message
 116:../../libDaisy//src/daisy_seed.h ****      */
 117:../../libDaisy//src/daisy_seed.h ****     template <typename... VA>
 118:../../libDaisy//src/daisy_seed.h ****     static void Print(const char* format, VA... va)
 119:../../libDaisy//src/daisy_seed.h ****     {
 120:../../libDaisy//src/daisy_seed.h ****         Log::Print(format, va...);
 121:../../libDaisy//src/daisy_seed.h ****     }
 122:../../libDaisy//src/daisy_seed.h **** 
 123:../../libDaisy//src/daisy_seed.h ****     /** Print formatted debug log message with automatic line termination
 124:../../libDaisy//src/daisy_seed.h ****     */
 125:../../libDaisy//src/daisy_seed.h ****     template <typename... VA>
 126:../../libDaisy//src/daisy_seed.h ****     static void PrintLine(const char* format, VA... va)
 341              		.loc 10 126 17 is_stmt 1 view .LVU92
 342              	.LBB234:
 127:../../libDaisy//src/daisy_seed.h ****     {
 128:../../libDaisy//src/daisy_seed.h ****         Log::PrintLine(format, va...);
 343              		.loc 10 128 23 is_stmt 0 view .LVU93
 344 005a 0E48     		ldr	r0, .L14+32
 345 005c B7EEC87A 		vcvt.f64.f32	d7, s16
 346 0060 8DED000B 		vstr.64	d0, [sp]
 347 0064 53EC172B 		vmov	r2, r3, d7
ARM GAS  /var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s 			page 28


 348 0068 FFF7FEFF 		bl	_ZN5daisy6LoggerILNS_17LoggerDestinationE1EE9PrintLineEPKcz
 349              	.LVL14:
 350              	.L11:
 351              		.loc 10 128 23 view .LVU94
 352              	.LBE234:
 353              	.LBE233:
 354              	.LBE232:
 355              	.LBE235:
  67:src/realtime-bpm-detection.cpp ****     }
  68:src/realtime-bpm-detection.cpp **** }
 356              		.loc 15 68 1 view .LVU95
 357 006c 02B0     		add	sp, sp, #8
 358              		.cfi_def_cfa_offset 16
 359              		@ sp needed
 360 006e BDEC028B 		vldm	sp!, {d8}
 361              		.cfi_restore 80
 362              		.cfi_restore 81
 363              		.cfi_def_cfa_offset 8
 364 0072 10BD     		pop	{r4, pc}
 365              	.L15:
 366              		.align	2
 367              	.L14:
 368 0074 00000000 		.word	.LANCHOR3
 369 0078 FF520700 		.word	479999
 370 007c 00000000 		.word	.LANCHOR4
 371 0080 00530700 		.word	480000
 372 0084 00000000 		.word	audioBuffer
 373 0088 00000000 		.word	.LANCHOR1
 374 008c 00000000 		.word	.LANCHOR2
 375 0090 00000000 		.word	.LANCHOR0
 376 0094 00000000 		.word	.LANCHOR5
 377              		.cfi_endproc
 378              	.LFE2569:
 380              		.section	.text._Z13AudioCallbackPKPKfPPfj,"ax",%progbits
 381              		.align	1
 382              		.global	_Z13AudioCallbackPKPKfPPfj
 383              		.syntax unified
 384              		.thumb
 385              		.thumb_func
 387              	_Z13AudioCallbackPKPKfPPfj:
 388              	.LVL15:
 389              	.LFB2570:
  69:src/realtime-bpm-detection.cpp **** 
  70:src/realtime-bpm-detection.cpp **** void AudioCallback(AudioHandle::InputBuffer in, AudioHandle::OutputBuffer out, size_t size) {
 390              		.loc 15 70 93 is_stmt 1 view -0
 391              		.cfi_startproc
 392              		@ args = 0, pretend = 0, frame = 0
 393              		@ frame_needed = 0, uses_anonymous_args = 0
  71:src/realtime-bpm-detection.cpp ****     for(size_t i = 0; i < size; i++) {
 394              		.loc 15 71 5 view .LVU97
  70:src/realtime-bpm-detection.cpp ****     for(size_t i = 0; i < size; i++) {
 395              		.loc 15 70 93 is_stmt 0 view .LVU98
 396 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 397              		.cfi_def_cfa_offset 24
 398              		.cfi_offset 3, -24
 399              		.cfi_offset 4, -20
 400              		.cfi_offset 5, -16
ARM GAS  /var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s 			page 29


 401              		.cfi_offset 6, -12
 402              		.cfi_offset 7, -8
 403              		.cfi_offset 14, -4
 404 0002 244F     		ldr	r7, .L25
  70:src/realtime-bpm-detection.cpp ****     for(size_t i = 0; i < size; i++) {
 405              		.loc 15 70 93 view .LVU99
 406 0004 0025     		movs	r5, #0
 407 0006 3B68     		ldr	r3, [r7]
 408              	.LBB236:
 409              		.loc 15 71 16 view .LVU100
 410 0008 2C46     		mov	r4, r5
 411              	.LVL16:
 412              	.L18:
 413              		.loc 15 71 25 is_stmt 1 discriminator 3 view .LVU101
 414 000a 9442     		cmp	r4, r2
 415 000c 2BD0     		beq	.L17
 416              	.LBB237:
  72:src/realtime-bpm-detection.cpp ****         // Average the stereo inputs to mono
  73:src/realtime-bpm-detection.cpp ****         float sample = (in[0][i] + in[1][i]) * 0.5f;
 417              		.loc 15 73 9 discriminator 2 view .LVU102
 418              		.loc 15 73 32 is_stmt 0 discriminator 2 view .LVU103
 419 000e 0668     		ldr	r6, [r0]
 420              		.loc 15 73 43 discriminator 2 view .LVU104
 421 0010 4568     		ldr	r5, [r0, #4]
 422              		.loc 15 73 32 discriminator 2 view .LVU105
 423 0012 06EB8406 		add	r6, r6, r4, lsl #2
  74:src/realtime-bpm-detection.cpp ****         
  75:src/realtime-bpm-detection.cpp ****         // Store in the circular buffer
  76:src/realtime-bpm-detection.cpp ****         audioBuffer[bufferIndex] = sample;
 424              		.loc 15 76 34 discriminator 2 view .LVU106
 425 0016 DFF88CC0 		ldr	ip, .L25+16
  73:src/realtime-bpm-detection.cpp ****         
 426              		.loc 15 73 43 discriminator 2 view .LVU107
 427 001a 05EB8405 		add	r5, r5, r4, lsl #2
 428              	.LVL17:
 429              		.loc 15 76 9 is_stmt 1 discriminator 2 view .LVU108
  73:src/realtime-bpm-detection.cpp ****         
 430              		.loc 15 73 34 is_stmt 0 discriminator 2 view .LVU109
 431 001e D6ED007A 		vldr.32	s15, [r6]
 432              		.loc 15 76 34 discriminator 2 view .LVU110
 433 0022 0CEB830C 		add	ip, ip, r3, lsl #2
  73:src/realtime-bpm-detection.cpp ****         
 434              		.loc 15 73 34 discriminator 2 view .LVU111
 435 0026 95ED007A 		vldr.32	s14, [r5]
 436 002a 77EE877A 		vadd.f32	s15, s15, s14
  73:src/realtime-bpm-detection.cpp ****         
 437              		.loc 15 73 15 discriminator 2 view .LVU112
 438 002e B6EE007A 		vmov.f32	s14, #5.0e-1
 439 0032 67EE877A 		vmul.f32	s15, s15, s14
 440              	.LVL18:
 441              		.loc 15 76 34 discriminator 2 view .LVU113
 442 0036 CCED007A 		vstr.32	s15, [ip]
  77:src/realtime-bpm-detection.cpp ****         bufferIndex = (bufferIndex + 1) % kBufferSize;
 443              		.loc 15 77 9 is_stmt 1 discriminator 2 view .LVU114
 444              		.loc 15 77 36 is_stmt 0 discriminator 2 view .LVU115
 445 003a 03F1010C 		add	ip, r3, #1
 446              		.loc 15 77 41 discriminator 2 view .LVU116
ARM GAS  /var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s 			page 30


 447 003e 164B     		ldr	r3, .L25+4
 448 0040 BCFBF3FE 		udiv	lr, ip, r3
 449 0044 03FB1EC3 		mls	r3, r3, lr, ip
  78:src/realtime-bpm-detection.cpp ****         
  79:src/realtime-bpm-detection.cpp ****         // Pass through audio to outputs
  80:src/realtime-bpm-detection.cpp ****         out[0][i] = in[0][i];
 450              		.loc 15 80 9 is_stmt 1 discriminator 2 view .LVU117
 451              		.loc 15 80 28 is_stmt 0 discriminator 2 view .LVU118
 452 0048 D6F800C0 		ldr	ip, [r6]	@ float
 453              		.loc 15 80 19 discriminator 2 view .LVU119
 454 004c 0E68     		ldr	r6, [r1]
 455 004e 06EB8406 		add	r6, r6, r4, lsl #2
 456 0052 C6F800C0 		str	ip, [r6]	@ float
  81:src/realtime-bpm-detection.cpp ****         out[1][i] = in[1][i];
 457              		.loc 15 81 9 is_stmt 1 discriminator 2 view .LVU120
 458              		.loc 15 81 28 is_stmt 0 discriminator 2 view .LVU121
 459 0056 2E68     		ldr	r6, [r5]	@ float
 460              		.loc 15 81 19 discriminator 2 view .LVU122
 461 0058 4D68     		ldr	r5, [r1, #4]
 462 005a 05EB8405 		add	r5, r5, r4, lsl #2
 463              	.LBE237:
  71:src/realtime-bpm-detection.cpp ****         // Average the stereo inputs to mono
 464              		.loc 15 71 5 discriminator 2 view .LVU123
 465 005e 0134     		adds	r4, r4, #1
 466              	.LVL19:
 467              	.LBB238:
 468              		.loc 15 81 19 discriminator 2 view .LVU124
 469 0060 2E60     		str	r6, [r5]	@ float
 470              	.LBE238:
  71:src/realtime-bpm-detection.cpp ****         // Average the stereo inputs to mono
 471              		.loc 15 71 5 is_stmt 1 discriminator 2 view .LVU125
 472              	.LVL20:
  71:src/realtime-bpm-detection.cpp ****         // Average the stereo inputs to mono
 473              		.loc 15 71 5 is_stmt 0 discriminator 2 view .LVU126
 474 0062 0125     		movs	r5, #1
 475 0064 D1E7     		b	.L18
 476              	.LVL21:
 477              	.L17:
  71:src/realtime-bpm-detection.cpp ****         // Average the stereo inputs to mono
 478              		.loc 15 71 5 discriminator 2 view .LVU127
 479 0066 05B1     		cbz	r5, .L19
 480 0068 3B60     		str	r3, [r7]
 481              	.L19:
 482              	.LBE236:
  82:src/realtime-bpm-detection.cpp ****     }
  83:src/realtime-bpm-detection.cpp ****     
  84:src/realtime-bpm-detection.cpp ****     // Increment total sample count (capped at kBufferSize)
  85:src/realtime-bpm-detection.cpp ****     totalSamples = std::min(totalSamples + size, kBufferSize);
 483              		.loc 15 85 5 is_stmt 1 view .LVU128
 484              		.loc 15 85 18 is_stmt 0 view .LVU129
 485 006a 0C49     		ldr	r1, .L25+8
 486              	.LVL22:
  86:src/realtime-bpm-detection.cpp ****     
  87:src/realtime-bpm-detection.cpp ****     // Check if it's time to update BPM calculation (every 1 second)
  88:src/realtime-bpm-detection.cpp ****     uint32_t currentTime = System::GetNow();
  89:src/realtime-bpm-detection.cpp ****     if (currentTime - lastUpdateTime >= 1000) {
 487              		.loc 15 89 21 view .LVU130
ARM GAS  /var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s 			page 31


 488 006c 0C4D     		ldr	r5, .L25+12
  85:src/realtime-bpm-detection.cpp ****     
 489              		.loc 15 85 42 view .LVU131
 490 006e 0B68     		ldr	r3, [r1]
 491 0070 1A44     		add	r2, r2, r3
 492              	.LVL23:
  85:src/realtime-bpm-detection.cpp ****     
 493              		.loc 15 85 18 view .LVU132
 494 0072 094B     		ldr	r3, .L25+4
 495 0074 9A42     		cmp	r2, r3
 496 0076 94BF     		ite	ls
 497 0078 0A60     		strls	r2, [r1]
 498 007a 0B60     		strhi	r3, [r1]
  88:src/realtime-bpm-detection.cpp ****     if (currentTime - lastUpdateTime >= 1000) {
 499              		.loc 15 88 5 is_stmt 1 view .LVU133
  88:src/realtime-bpm-detection.cpp ****     if (currentTime - lastUpdateTime >= 1000) {
 500              		.loc 15 88 42 is_stmt 0 view .LVU134
 501 007c FFF7FEFF 		bl	_ZN5daisy6System6GetNowEv
 502              	.LVL24:
 503              		.loc 15 89 21 view .LVU135
 504 0080 2B68     		ldr	r3, [r5]
  88:src/realtime-bpm-detection.cpp ****     if (currentTime - lastUpdateTime >= 1000) {
 505              		.loc 15 88 42 view .LVU136
 506 0082 0446     		mov	r4, r0
 507              	.LVL25:
 508              		.loc 15 89 5 is_stmt 1 view .LVU137
 509              		.loc 15 89 21 is_stmt 0 view .LVU138
 510 0084 C31A     		subs	r3, r0, r3
 511              		.loc 15 89 5 view .LVU139
 512 0086 B3F57A7F 		cmp	r3, #1000
 513 008a 02D3     		bcc	.L16
  90:src/realtime-bpm-detection.cpp ****         ProcessBpm();
 514              		.loc 15 90 9 is_stmt 1 view .LVU140
 515              		.loc 15 90 19 is_stmt 0 view .LVU141
 516 008c FFF7FEFF 		bl	_Z10ProcessBpmv
 517              	.LVL26:
  91:src/realtime-bpm-detection.cpp ****         lastUpdateTime = currentTime;
 518              		.loc 15 91 9 is_stmt 1 view .LVU142
 519              		.loc 15 91 24 is_stmt 0 view .LVU143
 520 0090 2C60     		str	r4, [r5]
 521              	.L16:
  92:src/realtime-bpm-detection.cpp ****     }
  93:src/realtime-bpm-detection.cpp **** }
 522              		.loc 15 93 1 view .LVU144
 523 0092 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 524              	.LVL27:
 525              	.L26:
 526              		.loc 15 93 1 view .LVU145
 527              		.align	2
 528              	.L25:
 529 0094 00000000 		.word	.LANCHOR6
 530 0098 00530700 		.word	480000
 531 009c 00000000 		.word	.LANCHOR3
 532 00a0 00000000 		.word	.LANCHOR7
 533 00a4 00000000 		.word	audioBuffer
 534              		.cfi_endproc
 535              	.LFE2570:
ARM GAS  /var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s 			page 32


 537              		.section	.text.startup.main,"ax",%progbits
 538              		.align	1
 539              		.global	main
 540              		.syntax unified
 541              		.thumb
 542              		.thumb_func
 544              	main:
 545              	.LFB2571:
  94:src/realtime-bpm-detection.cpp **** 
  95:src/realtime-bpm-detection.cpp **** int main(void) {
 546              		.loc 15 95 16 is_stmt 1 view -0
 547              		.cfi_startproc
 548              		@ args = 0, pretend = 0, frame = 0
 549              		@ frame_needed = 0, uses_anonymous_args = 0
  96:src/realtime-bpm-detection.cpp ****     // Initialize Daisy Pod hardware
  97:src/realtime-bpm-detection.cpp ****     hw.Init();
 550              		.loc 15 97 5 view .LVU147
  95:src/realtime-bpm-detection.cpp ****     // Initialize Daisy Pod hardware
 551              		.loc 15 95 16 is_stmt 0 view .LVU148
 552 0000 10B5     		push	{r4, lr}
 553              		.cfi_def_cfa_offset 8
 554              		.cfi_offset 4, -8
 555              		.cfi_offset 14, -4
 556              		.loc 15 97 12 view .LVU149
 557 0002 0021     		movs	r1, #0
 558 0004 3A48     		ldr	r0, .L33+8
 559 0006 FFF7FEFF 		bl	_ZN5daisy8DaisyPod4InitEb
 560              	.LVL28:
  98:src/realtime-bpm-detection.cpp ****     hw.seed.usb_handle.Init(UsbHandle::FS_BOTH);
 561              		.loc 15 98 5 is_stmt 1 view .LVU150
  99:src/realtime-bpm-detection.cpp ****     
 100:src/realtime-bpm-detection.cpp ****     // Clear the audio buffer
 101:src/realtime-bpm-detection.cpp ****     for (size_t i = 0; i < kBufferSize; i++) {
 102:src/realtime-bpm-detection.cpp ****         audioBuffer[i] = 0.0f;
 103:src/realtime-bpm-detection.cpp ****     }
 104:src/realtime-bpm-detection.cpp ****     
 105:src/realtime-bpm-detection.cpp ****     // Initialize BTT using the correct function
 106:src/realtime-bpm-detection.cpp ****     btt = btt_new_default();
 562              		.loc 15 106 9 is_stmt 0 view .LVU151
 563 000a 3A4C     		ldr	r4, .L33+12
  98:src/realtime-bpm-detection.cpp ****     hw.seed.usb_handle.Init(UsbHandle::FS_BOTH);
 564              		.loc 15 98 28 view .LVU152
 565 000c 0221     		movs	r1, #2
 566 000e 3A48     		ldr	r0, .L33+16
 567 0010 FFF7FEFF 		bl	_ZN5daisy9UsbHandle4InitENS0_9UsbPeriphE
 568              	.LVL29:
 101:src/realtime-bpm-detection.cpp ****         audioBuffer[i] = 0.0f;
 569              		.loc 15 101 5 is_stmt 1 view .LVU153
 570              	.LBB239:
 101:src/realtime-bpm-detection.cpp ****         audioBuffer[i] = 0.0f;
 571              		.loc 15 101 26 view .LVU154
 102:src/realtime-bpm-detection.cpp ****     }
 572              		.loc 15 102 24 is_stmt 0 view .LVU155
 573 0014 394A     		ldr	r2, .L33+20
 574 0016 0021     		movs	r1, #0
 575 0018 3948     		ldr	r0, .L33+24
 576 001a FFF7FEFF 		bl	memset
ARM GAS  /var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s 			page 33


 577              	.LVL30:
 102:src/realtime-bpm-detection.cpp ****     }
 578              		.loc 15 102 24 view .LVU156
 579              	.LBE239:
 580              		.loc 15 106 5 is_stmt 1 view .LVU157
 581              		.loc 15 106 26 is_stmt 0 view .LVU158
 582 001e FFF7FEFF 		bl	btt_new_default
 583              	.LVL31:
 584              		.loc 15 106 9 view .LVU159
 585 0022 2060     		str	r0, [r4]
 107:src/realtime-bpm-detection.cpp ****     if (btt == nullptr) {
 586              		.loc 15 107 5 is_stmt 1 view .LVU160
 587 0024 18BB     		cbnz	r0, .L28
 108:src/realtime-bpm-detection.cpp ****         hw.seed.StartLog();
 588              		.loc 15 108 9 view .LVU161
 589              	.LVL32:
 590              	.LBB240:
 591              	.LBI240:
 129:../../libDaisy//src/daisy_seed.h ****     }
 130:../../libDaisy//src/daisy_seed.h **** 
 131:../../libDaisy//src/daisy_seed.h ****     /** Start the logging session. Optionally wait for terminal connection before proceeding.
 132:../../libDaisy//src/daisy_seed.h ****     */
 133:../../libDaisy//src/daisy_seed.h ****     static void StartLog(bool wait_for_pc = false)
 592              		.loc 10 133 17 view .LVU162
 593              	.LBB241:
 134:../../libDaisy//src/daisy_seed.h ****     {
 135:../../libDaisy//src/daisy_seed.h ****         Log::StartLog(wait_for_pc);
 594              		.loc 10 135 9 view .LVU163
 595              		.loc 10 135 22 is_stmt 0 view .LVU164
 596 0026 FFF7FEFF 		bl	_ZN5daisy6LoggerILNS_17LoggerDestinationE1EE8StartLogEb
 597              	.LVL33:
 598              		.loc 10 135 22 view .LVU165
 599              	.LBE241:
 600              	.LBE240:
 109:src/realtime-bpm-detection.cpp ****         hw.seed.PrintLine(error_message);
 601              		.loc 15 109 9 is_stmt 1 view .LVU166
 602              	.LBB242:
 603              	.LBI242:
 126:../../libDaisy//src/daisy_seed.h ****     {
 604              		.loc 10 126 17 view .LVU167
 605              	.LBB243:
 128:../../libDaisy//src/daisy_seed.h ****     }
 606              		.loc 10 128 23 is_stmt 0 view .LVU168
 607 002a 3648     		ldr	r0, .L33+28
 608 002c FFF7FEFF 		bl	_ZN5daisy6LoggerILNS_17LoggerDestinationE1EE9PrintLineEPKcz
 609              	.LVL34:
 610              	.L29:
 128:../../libDaisy//src/daisy_seed.h ****     }
 611              		.loc 10 128 23 view .LVU169
 612              	.LBE243:
 613              	.LBE242:
 110:src/realtime-bpm-detection.cpp ****         while(1) {
 614              		.loc 15 110 9 is_stmt 1 discriminator 1 view .LVU170
 111:src/realtime-bpm-detection.cpp ****             hw.led1.Set(1.0f, 0.0f, 0.0f);
 615              		.loc 15 111 13 discriminator 1 view .LVU171
 616              		.loc 15 111 24 is_stmt 0 discriminator 1 view .LVU172
 617 0030 9FED351A 		vldr.32	s2, .L33+32
ARM GAS  /var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s 			page 34


 618 0034 B7EE000A 		vmov.f32	s0, #1.0e+0
 619 0038 3448     		ldr	r0, .L33+36
 620 003a F0EE410A 		vmov.f32	s1, s2
 621 003e FFF7FEFF 		bl	_ZN5daisy6RgbLed3SetEfff
 622              	.LVL35:
 112:src/realtime-bpm-detection.cpp ****             hw.UpdateLeds();
 623              		.loc 15 112 13 is_stmt 1 discriminator 1 view .LVU173
 624              		.loc 15 112 26 is_stmt 0 discriminator 1 view .LVU174
 625 0042 2B48     		ldr	r0, .L33+8
 626 0044 FFF7FEFF 		bl	_ZN5daisy8DaisyPod10UpdateLedsEv
 627              	.LVL36:
 113:src/realtime-bpm-detection.cpp ****             System::Delay(100);
 628              		.loc 15 113 13 is_stmt 1 discriminator 1 view .LVU175
 629              		.loc 15 113 26 is_stmt 0 discriminator 1 view .LVU176
 630 0048 6420     		movs	r0, #100
 631 004a FFF7FEFF 		bl	_ZN5daisy6System5DelayEm
 632              	.LVL37:
 114:src/realtime-bpm-detection.cpp ****             hw.led1.Set(0.0f, 0.0f, 0.0f);
 633              		.loc 15 114 13 is_stmt 1 discriminator 1 view .LVU177
 634              		.loc 15 114 24 is_stmt 0 discriminator 1 view .LVU178
 635 004e 9FED2E1A 		vldr.32	s2, .L33+32
 636 0052 2E48     		ldr	r0, .L33+36
 637 0054 F0EE410A 		vmov.f32	s1, s2
 638 0058 B0EE410A 		vmov.f32	s0, s2
 639 005c FFF7FEFF 		bl	_ZN5daisy6RgbLed3SetEfff
 640              	.LVL38:
 115:src/realtime-bpm-detection.cpp ****             hw.UpdateLeds();
 641              		.loc 15 115 13 is_stmt 1 discriminator 1 view .LVU179
 642              		.loc 15 115 26 is_stmt 0 discriminator 1 view .LVU180
 643 0060 2348     		ldr	r0, .L33+8
 644 0062 FFF7FEFF 		bl	_ZN5daisy8DaisyPod10UpdateLedsEv
 645              	.LVL39:
 116:src/realtime-bpm-detection.cpp ****             System::Delay(100);
 646              		.loc 15 116 13 is_stmt 1 discriminator 1 view .LVU181
 647              		.loc 15 116 26 is_stmt 0 discriminator 1 view .LVU182
 648 0066 6420     		movs	r0, #100
 649 0068 FFF7FEFF 		bl	_ZN5daisy6System5DelayEm
 650              	.LVL40:
 110:src/realtime-bpm-detection.cpp ****             hw.led1.Set(1.0f, 0.0f, 0.0f);
 651              		.loc 15 110 9 is_stmt 1 discriminator 1 view .LVU183
 652 006c E0E7     		b	.L29
 653              	.L28:
 117:src/realtime-bpm-detection.cpp ****         }
 118:src/realtime-bpm-detection.cpp ****     }
 119:src/realtime-bpm-detection.cpp ****     
 120:src/realtime-bpm-detection.cpp ****     // Set BTT parameters - use reduced parameters to save memory
 121:src/realtime-bpm-detection.cpp ****     btt_set_num_tempo_candidates(btt, 10); // Reduced from 20
 654              		.loc 15 121 5 view .LVU184
 655              		.loc 15 121 33 is_stmt 0 view .LVU185
 656 006e 0A21     		movs	r1, #10
 657 0070 FFF7FEFF 		bl	btt_set_num_tempo_candidates
 658              	.LVL41:
 122:src/realtime-bpm-detection.cpp ****     btt_set_min_tempo(btt, 30);
 659              		.loc 15 122 5 is_stmt 1 view .LVU186
 660              		.loc 15 122 22 is_stmt 0 view .LVU187
 661 0074 B3EE0E0B 		vmov.f64	d0, #3.0e+1
 662 0078 2068     		ldr	r0, [r4]
ARM GAS  /var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s 			page 35


 663 007a FFF7FEFF 		bl	btt_set_min_tempo
 664              	.LVL42:
 123:src/realtime-bpm-detection.cpp ****     btt_set_max_tempo(btt, 180);
 665              		.loc 15 123 5 is_stmt 1 view .LVU188
 666              		.loc 15 123 22 is_stmt 0 view .LVU189
 667 007e 2068     		ldr	r0, [r4]
 668 0080 9FED190B 		vldr.64	d0, .L33
 669 0084 FFF7FEFF 		bl	btt_set_max_tempo
 670              	.LVL43:
 124:src/realtime-bpm-detection.cpp ****     
 125:src/realtime-bpm-detection.cpp ****     // Initialize BPM array
 126:src/realtime-bpm-detection.cpp ****     for (size_t i = 0; i < kNumBpmValues; i++) {
 671              		.loc 15 126 5 is_stmt 1 view .LVU190
 672              	.LBB244:
 673              		.loc 15 126 26 view .LVU191
 127:src/realtime-bpm-detection.cpp ****         bpmValues[i] = 0.0f;
 674              		.loc 15 127 22 is_stmt 0 view .LVU192
 675 0088 2822     		movs	r2, #40
 676 008a 0021     		movs	r1, #0
 677 008c 2048     		ldr	r0, .L33+40
 678 008e FFF7FEFF 		bl	memset
 679              	.LVL44:
 680              		.loc 15 127 22 view .LVU193
 681              	.LBE244:
 128:src/realtime-bpm-detection.cpp ****     }
 129:src/realtime-bpm-detection.cpp ****     
 130:src/realtime-bpm-detection.cpp ****     // Set up audio
 131:src/realtime-bpm-detection.cpp ****     hw.SetAudioBlockSize(64);
 682              		.loc 15 131 5 is_stmt 1 view .LVU194
 683              		.loc 15 131 25 is_stmt 0 view .LVU195
 684 0092 4021     		movs	r1, #64
 685 0094 1648     		ldr	r0, .L33+8
 686 0096 FFF7FEFF 		bl	_ZN5daisy8DaisyPod17SetAudioBlockSizeEj
 687              	.LVL45:
 132:src/realtime-bpm-detection.cpp ****     hw.StartAudio(AudioCallback);
 688              		.loc 15 132 5 is_stmt 1 view .LVU196
 689              		.loc 15 132 18 is_stmt 0 view .LVU197
 690 009a 1E49     		ldr	r1, .L33+44
 691 009c 1448     		ldr	r0, .L33+8
 692 009e FFF7FEFF 		bl	_ZN5daisy8DaisyPod10StartAudioEPFvPKPKfPPfjE
 693              	.LVL46:
 133:src/realtime-bpm-detection.cpp ****     
 134:src/realtime-bpm-detection.cpp ****     // Initialize the update timer
 135:src/realtime-bpm-detection.cpp ****     lastUpdateTime = System::GetNow();
 694              		.loc 15 135 5 is_stmt 1 view .LVU198
 695              		.loc 15 135 36 is_stmt 0 view .LVU199
 696 00a2 FFF7FEFF 		bl	_ZN5daisy6System6GetNowEv
 697              	.LVL47:
 698              		.loc 15 135 20 view .LVU200
 699 00a6 1C4B     		ldr	r3, .L33+48
 700 00a8 1860     		str	r0, [r3]
 136:src/realtime-bpm-detection.cpp ****     
 137:src/realtime-bpm-detection.cpp ****     // Start USB serial for output
 138:src/realtime-bpm-detection.cpp ****     hw.seed.StartLog();
 701              		.loc 15 138 5 is_stmt 1 view .LVU201
 702              	.LVL48:
 703              	.LBB245:
ARM GAS  /var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s 			page 36


 704              	.LBI245:
 133:../../libDaisy//src/daisy_seed.h ****     {
 705              		.loc 10 133 17 view .LVU202
 706              	.LBB246:
 707              		.loc 10 135 9 view .LVU203
 708              		.loc 10 135 22 is_stmt 0 view .LVU204
 709 00aa 0020     		movs	r0, #0
 710 00ac FFF7FEFF 		bl	_ZN5daisy6LoggerILNS_17LoggerDestinationE1EE8StartLogEb
 711              	.LVL49:
 712              		.loc 10 135 22 view .LVU205
 713              	.LBE246:
 714              	.LBE245:
 139:src/realtime-bpm-detection.cpp ****     hw.seed.PrintLine(startup_message);
 715              		.loc 15 139 5 is_stmt 1 view .LVU206
 716              	.LBB247:
 717              	.LBI247:
 126:../../libDaisy//src/daisy_seed.h ****     {
 718              		.loc 10 126 17 view .LVU207
 719              	.LBB248:
 128:../../libDaisy//src/daisy_seed.h ****     }
 720              		.loc 10 128 23 is_stmt 0 view .LVU208
 721 00b0 1A48     		ldr	r0, .L33+52
 722 00b2 FFF7FEFF 		bl	_ZN5daisy6LoggerILNS_17LoggerDestinationE1EE9PrintLineEPKcz
 723              	.LVL50:
 724              	.L31:
 128:../../libDaisy//src/daisy_seed.h ****     }
 725              		.loc 10 128 23 view .LVU209
 726              	.LBE248:
 727              	.LBE247:
 140:src/realtime-bpm-detection.cpp ****     
 141:src/realtime-bpm-detection.cpp ****     // Main loop
 142:src/realtime-bpm-detection.cpp ****     while(1) {
 728              		.loc 15 142 5 is_stmt 1 view .LVU210
 729              	.LBB249:
 143:src/realtime-bpm-detection.cpp ****         // Update LEDs to indicate activity
 144:src/realtime-bpm-detection.cpp ****         static bool led_state = false;
 730              		.loc 15 144 9 view .LVU211
 145:src/realtime-bpm-detection.cpp ****         led_state = !led_state;
 731              		.loc 15 145 9 view .LVU212
 732              		.loc 15 145 21 is_stmt 0 view .LVU213
 733 00b6 1A4A     		ldr	r2, .L33+56
 146:src/realtime-bpm-detection.cpp ****         hw.led1.Set(led_state ? 0.8f : 0.0f, 0.0f, 0.0f); // Red LED flash
 734              		.loc 15 146 20 view .LVU214
 735 00b8 9FED131A 		vldr.32	s2, .L33+32
 145:src/realtime-bpm-detection.cpp ****         led_state = !led_state;
 736              		.loc 15 145 21 view .LVU215
 737 00bc 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 738              		.loc 15 146 20 view .LVU216
 739 00be 9FED190A 		vldr.32	s0, .L33+60
 740 00c2 F0EE410A 		vmov.f32	s1, s2
 145:src/realtime-bpm-detection.cpp ****         led_state = !led_state;
 741              		.loc 15 145 21 view .LVU217
 742 00c6 83F00103 		eor	r3, r3, #1
 743              		.loc 15 146 20 view .LVU218
 744 00ca 1048     		ldr	r0, .L33+36
 745 00cc 002B     		cmp	r3, #0
 145:src/realtime-bpm-detection.cpp ****         led_state = !led_state;
ARM GAS  /var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s 			page 37


 746              		.loc 15 145 19 view .LVU219
 747 00ce 1370     		strb	r3, [r2]
 748              		.loc 15 146 9 is_stmt 1 view .LVU220
 749              		.loc 15 146 20 is_stmt 0 view .LVU221
 750 00d0 01FE000A 		vseleq.f32	s0, s2, s0
 751 00d4 FFF7FEFF 		bl	_ZN5daisy6RgbLed3SetEfff
 752              	.LVL51:
 147:src/realtime-bpm-detection.cpp ****         hw.UpdateLeds(); // Required to actually update the LED state
 753              		.loc 15 147 9 is_stmt 1 view .LVU222
 754              		.loc 15 147 22 is_stmt 0 view .LVU223
 755 00d8 0548     		ldr	r0, .L33+8
 756 00da FFF7FEFF 		bl	_ZN5daisy8DaisyPod10UpdateLedsEv
 757              	.LVL52:
 148:src/realtime-bpm-detection.cpp ****         
 149:src/realtime-bpm-detection.cpp ****         System::Delay(500);
 758              		.loc 15 149 9 is_stmt 1 view .LVU224
 759              		.loc 15 149 22 is_stmt 0 view .LVU225
 760 00de 4FF4FA70 		mov	r0, #500
 761 00e2 FFF7FEFF 		bl	_ZN5daisy6System5DelayEm
 762              	.LVL53:
 763              	.LBE249:
 142:src/realtime-bpm-detection.cpp ****         // Update LEDs to indicate activity
 764              		.loc 15 142 5 is_stmt 1 view .LVU226
 150:src/realtime-bpm-detection.cpp ****     }
 765              		.loc 15 150 5 is_stmt 0 view .LVU227
 766 00e6 E6E7     		b	.L31
 767              	.L34:
 768              		.align	3
 769              	.L33:
 770 00e8 00000000 		.word	0
 771 00ec 00806640 		.word	1080459264
 772 00f0 00000000 		.word	hw
 773 00f4 00000000 		.word	.LANCHOR4
 774 00f8 24000000 		.word	hw+36
 775 00fc 004C1D00 		.word	1920000
 776 0100 00000000 		.word	audioBuffer
 777 0104 00000000 		.word	.LANCHOR8
 778 0108 00000000 		.word	0
 779 010c D8000000 		.word	hw+216
 780 0110 00000000 		.word	.LANCHOR2
 781 0114 00000000 		.word	_Z13AudioCallbackPKPKfPPfj
 782 0118 00000000 		.word	.LANCHOR7
 783 011c 00000000 		.word	.LANCHOR9
 784 0120 00000000 		.word	.LANCHOR10
 785 0124 CDCC4C3F 		.word	1061997773
 786              		.cfi_endproc
 787              	.LFE2571:
 789              		.section	.text.startup._GLOBAL__sub_I_hw,"ax",%progbits
 790              		.align	1
 791              		.syntax unified
 792              		.thumb
 793              		.thumb_func
 795              	_GLOBAL__sub_I_hw:
 796              	.LFB2614:
 151:src/realtime-bpm-detection.cpp **** }...
 797              		.loc 15 151 1 is_stmt 1 view -0
 798              		.cfi_startproc
ARM GAS  /var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s 			page 38


 799              		@ args = 0, pretend = 0, frame = 0
 800              		@ frame_needed = 0, uses_anonymous_args = 0
 801              	.LBB321:
 802              	.LBI321:
 803              		.loc 15 151 1 view .LVU229
 804              	.LVL54:
 805              	.LBB322:
 806              	.LBB323:
 807              	.LBI323:
  35:../../libDaisy//src/daisy_pod.h ****     ~DaisyPod() {}
 808              		.loc 1 35 5 view .LVU230
 809              	.LBB324:
 810              	.LBB325:
 811              	.LBI325:
  21:../../libDaisy//src/daisy_seed.h ****     ~DaisySeed() {}
 812              		.loc 10 21 5 view .LVU231
 813              	.LBB326:
 814              	.LBB327:
 815              	.LBI327:
 816              		.file 16 "../../libDaisy//src/per/qspi.h"
   1:../../libDaisy//src/per/qspi.h **** #ifndef DSY_QSPI
   2:../../libDaisy//src/per/qspi.h **** #define DSY_QSPI /**< Macro */
   3:../../libDaisy//src/per/qspi.h **** 
   4:../../libDaisy//src/per/qspi.h **** #ifndef UNIT_TEST // for unit tests, a dummy implementation
   5:../../libDaisy//src/per/qspi.h **** 
   6:../../libDaisy//src/per/qspi.h **** #include <cstdint>
   7:../../libDaisy//src/per/qspi.h **** #include "daisy_core.h" // Added for dsy_gpio_pin typedef
   8:../../libDaisy//src/per/qspi.h **** 
   9:../../libDaisy//src/per/qspi.h **** #define DSY_QSPI_TEXT       \
  10:../../libDaisy//src/per/qspi.h ****     __attribute__((section( \
  11:../../libDaisy//src/per/qspi.h ****         ".qspiflash_text"))) /**< used for reading memory in memory_mapped mode. */
  12:../../libDaisy//src/per/qspi.h **** #define DSY_QSPI_DATA       \
  13:../../libDaisy//src/per/qspi.h ****     __attribute__((section( \
  14:../../libDaisy//src/per/qspi.h ****         ".qspiflash_data"))) /**< used for reading memory in memory_mapped mode. */
  15:../../libDaisy//src/per/qspi.h **** #define DSY_QSPI_BSS        \
  16:../../libDaisy//src/per/qspi.h ****     __attribute__((section( \
  17:../../libDaisy//src/per/qspi.h ****         ".qspiflash_bss"))) /**< used for reading memory in memory_mapped mode. */
  18:../../libDaisy//src/per/qspi.h **** 
  19:../../libDaisy//src/per/qspi.h **** namespace daisy
  20:../../libDaisy//src/per/qspi.h **** {
  21:../../libDaisy//src/per/qspi.h **** /** @addtogroup serial
  22:../../libDaisy//src/per/qspi.h **** @{
  23:../../libDaisy//src/per/qspi.h **** */
  24:../../libDaisy//src/per/qspi.h **** 
  25:../../libDaisy//src/per/qspi.h **** /** 
  26:../../libDaisy//src/per/qspi.h ****  Driver for QSPI peripheral to interface with external flash memory. \n 
  27:../../libDaisy//src/per/qspi.h ****     Currently supported QSPI Devices: \n 
  28:../../libDaisy//src/per/qspi.h ****     * IS25LP080D
  29:../../libDaisy//src/per/qspi.h **** */
  30:../../libDaisy//src/per/qspi.h **** class QSPIHandle
  31:../../libDaisy//src/per/qspi.h **** {
  32:../../libDaisy//src/per/qspi.h ****   public:
  33:../../libDaisy//src/per/qspi.h ****     enum Result
  34:../../libDaisy//src/per/qspi.h ****     {
  35:../../libDaisy//src/per/qspi.h ****         OK = 0,
  36:../../libDaisy//src/per/qspi.h ****         ERR
  37:../../libDaisy//src/per/qspi.h ****     };
ARM GAS  /var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s 			page 39


  38:../../libDaisy//src/per/qspi.h **** 
  39:../../libDaisy//src/per/qspi.h ****     /** Indicates the current status of the module. 
  40:../../libDaisy//src/per/qspi.h ****          *  Warnings are indicated by a leading W.
  41:../../libDaisy//src/per/qspi.h ****          *  Errors are indicated by a leading E and cause an immediate exit.
  42:../../libDaisy//src/per/qspi.h ****          * 
  43:../../libDaisy//src/per/qspi.h ****          *  \param GOOD - No errors have been reported.
  44:../../libDaisy//src/per/qspi.h ****          *  \param E_HAL_ERROR - HAL code did not return HAL_OK.
  45:../../libDaisy//src/per/qspi.h ****          *  \param E_SWITCHING_MODES - An error was encountered while switching QSPI peripheral mod
  46:../../libDaisy//src/per/qspi.h ****          *  \param E_INVALID_MODE - QSPI should not be written to while the program is executing fr
  47:../../libDaisy//src/per/qspi.h ****          */
  48:../../libDaisy//src/per/qspi.h ****     enum Status
  49:../../libDaisy//src/per/qspi.h ****     {
  50:../../libDaisy//src/per/qspi.h ****         GOOD = 0,
  51:../../libDaisy//src/per/qspi.h ****         E_HAL_ERROR,
  52:../../libDaisy//src/per/qspi.h ****         E_SWITCHING_MODES,
  53:../../libDaisy//src/per/qspi.h ****         E_INVALID_MODE,
  54:../../libDaisy//src/per/qspi.h ****     };
  55:../../libDaisy//src/per/qspi.h **** 
  56:../../libDaisy//src/per/qspi.h ****     /** Configuration structure for interfacing with QSPI Driver */
  57:../../libDaisy//src/per/qspi.h ****     struct Config
  58:../../libDaisy//src/per/qspi.h ****     {
  59:../../libDaisy//src/per/qspi.h ****         /** Flash Devices supported. (Both of these are more-or-less the same, just different sizes
  60:../../libDaisy//src/per/qspi.h ****         enum Device
  61:../../libDaisy//src/per/qspi.h ****         {
  62:../../libDaisy//src/per/qspi.h ****             IS25LP080D,  /**< & */
  63:../../libDaisy//src/per/qspi.h ****             IS25LP064A,  /**< & */
  64:../../libDaisy//src/per/qspi.h ****             DEVICE_LAST, /**< & */
  65:../../libDaisy//src/per/qspi.h ****         };
  66:../../libDaisy//src/per/qspi.h **** 
  67:../../libDaisy//src/per/qspi.h ****         /** 
  68:../../libDaisy//src/per/qspi.h ****         Modes of operation.
  69:../../libDaisy//src/per/qspi.h ****         Memory Mapped mode: QSPI configured so that the QSPI can be
  70:../../libDaisy//src/per/qspi.h ****         read from starting address 0x90000000. Writing is not
  71:../../libDaisy//src/per/qspi.h ****         possible in this mode. \n 
  72:../../libDaisy//src/per/qspi.h ****         Indirect Polling mode: Device driver enabled. 
  73:../../libDaisy//src/per/qspi.h ****         */
  74:../../libDaisy//src/per/qspi.h ****         enum Mode
  75:../../libDaisy//src/per/qspi.h ****         {
  76:../../libDaisy//src/per/qspi.h ****             MEMORY_MAPPED,    /**< & */
  77:../../libDaisy//src/per/qspi.h ****             INDIRECT_POLLING, /**< & */
  78:../../libDaisy//src/per/qspi.h ****             MODE_LAST,
  79:../../libDaisy//src/per/qspi.h ****         };
  80:../../libDaisy//src/per/qspi.h **** 
  81:../../libDaisy//src/per/qspi.h ****         //SCK,  CE# (active low)
  82:../../libDaisy//src/per/qspi.h ****         struct
  83:../../libDaisy//src/per/qspi.h ****         {
  84:../../libDaisy//src/per/qspi.h ****             dsy_gpio_pin io0; /**< & */
  85:../../libDaisy//src/per/qspi.h ****             dsy_gpio_pin io1; /**< & */
  86:../../libDaisy//src/per/qspi.h ****             dsy_gpio_pin io2; /**< & */
  87:../../libDaisy//src/per/qspi.h ****             dsy_gpio_pin io3; /**< & */
  88:../../libDaisy//src/per/qspi.h ****             dsy_gpio_pin clk; /**< & */
  89:../../libDaisy//src/per/qspi.h ****             dsy_gpio_pin ncs; /**< & */
  90:../../libDaisy//src/per/qspi.h ****         } pin_config;
  91:../../libDaisy//src/per/qspi.h **** 
  92:../../libDaisy//src/per/qspi.h ****         Device device;
  93:../../libDaisy//src/per/qspi.h ****         Mode   mode;
  94:../../libDaisy//src/per/qspi.h ****     };
ARM GAS  /var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s 			page 40


  95:../../libDaisy//src/per/qspi.h **** 
  96:../../libDaisy//src/per/qspi.h ****     /** 
  97:../../libDaisy//src/per/qspi.h ****         Initializes QSPI peripheral, and Resets, and prepares memory for access.
  98:../../libDaisy//src/per/qspi.h ****         \param config should be populated with the mode, device and pin_config before calling this 
  99:../../libDaisy//src/per/qspi.h ****         \return Result::OK or Result::ERR
 100:../../libDaisy//src/per/qspi.h ****         */
 101:../../libDaisy//src/per/qspi.h ****     Result Init(const Config& config);
 102:../../libDaisy//src/per/qspi.h **** 
 103:../../libDaisy//src/per/qspi.h ****     /** Returns the current config. */
 104:../../libDaisy//src/per/qspi.h ****     const Config& GetConfig() const;
 105:../../libDaisy//src/per/qspi.h **** 
 106:../../libDaisy//src/per/qspi.h ****     // Couldn't this just be called before anything else in init? That
 107:../../libDaisy//src/per/qspi.h ****     // would make manually calling it unnecessary.
 108:../../libDaisy//src/per/qspi.h ****     /** 
 109:../../libDaisy//src/per/qspi.h ****         Deinitializes the peripheral
 110:../../libDaisy//src/per/qspi.h ****         This should be called before reinitializing QSPI in a different mode.
 111:../../libDaisy//src/per/qspi.h ****         \return Result::OK or Result::ERR
 112:../../libDaisy//src/per/qspi.h ****         */
 113:../../libDaisy//src/per/qspi.h ****     Result DeInit();
 114:../../libDaisy//src/per/qspi.h **** 
 115:../../libDaisy//src/per/qspi.h ****     /** 
 116:../../libDaisy//src/per/qspi.h ****         Writes a single page to to the specified address on the QSPI chip.
 117:../../libDaisy//src/per/qspi.h ****         For IS25LP*, page size is 256 bytes.
 118:../../libDaisy//src/per/qspi.h ****         \param address Address to write to
 119:../../libDaisy//src/per/qspi.h ****         \param size Buffer size
 120:../../libDaisy//src/per/qspi.h ****         \param buffer Buffer to write
 121:../../libDaisy//src/per/qspi.h ****         \return Result::OK or Result::ERR
 122:../../libDaisy//src/per/qspi.h ****         */
 123:../../libDaisy//src/per/qspi.h ****     Result WritePage(uint32_t address, uint32_t size, uint8_t* buffer);
 124:../../libDaisy//src/per/qspi.h **** 
 125:../../libDaisy//src/per/qspi.h ****     /** 
 126:../../libDaisy//src/per/qspi.h ****         Writes data in buffer to to the QSPI. Starting at address to address+size 
 127:../../libDaisy//src/per/qspi.h ****         \param address Address to write to
 128:../../libDaisy//src/per/qspi.h ****         \param size Buffer size
 129:../../libDaisy//src/per/qspi.h ****         \param buffer Buffer to write
 130:../../libDaisy//src/per/qspi.h ****         \return Result::OK or Result::ERR
 131:../../libDaisy//src/per/qspi.h ****         */
 132:../../libDaisy//src/per/qspi.h ****     Result Write(uint32_t address, uint32_t size, uint8_t* buffer);
 133:../../libDaisy//src/per/qspi.h **** 
 134:../../libDaisy//src/per/qspi.h ****     /** 
 135:../../libDaisy//src/per/qspi.h ****         Erases the area specified on the chip.
 136:../../libDaisy//src/per/qspi.h ****         Erasures will happen by 4K, 32K or 64K increments.
 137:../../libDaisy//src/per/qspi.h ****         Smallest erase possible is 4kB at a time. (on IS25LP*)
 138:../../libDaisy//src/per/qspi.h ****         \param start_addr Address to begin erasing from
 139:../../libDaisy//src/per/qspi.h ****         \param end_addr  Address to stop erasing at
 140:../../libDaisy//src/per/qspi.h ****         \return Result::OK or Result::ERR
 141:../../libDaisy//src/per/qspi.h ****         */
 142:../../libDaisy//src/per/qspi.h ****     Result Erase(uint32_t start_addr, uint32_t end_addr);
 143:../../libDaisy//src/per/qspi.h **** 
 144:../../libDaisy//src/per/qspi.h ****     /**  
 145:../../libDaisy//src/per/qspi.h ****          Erases a single sector of the chip.  
 146:../../libDaisy//src/per/qspi.h ****         TODO: Document the size of this function. 
 147:../../libDaisy//src/per/qspi.h ****         \param address Address of sector to erase
 148:../../libDaisy//src/per/qspi.h ****         \return Result::OK or Result::ERR
 149:../../libDaisy//src/per/qspi.h ****         */
 150:../../libDaisy//src/per/qspi.h ****     Result EraseSector(uint32_t address);
 151:../../libDaisy//src/per/qspi.h **** 
ARM GAS  /var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s 			page 41


 152:../../libDaisy//src/per/qspi.h ****     /** Returns the current class status. Useful for debugging.
 153:../../libDaisy//src/per/qspi.h ****      *  \returns Status
 154:../../libDaisy//src/per/qspi.h ****      */
 155:../../libDaisy//src/per/qspi.h ****     Status GetStatus();
 156:../../libDaisy//src/per/qspi.h **** 
 157:../../libDaisy//src/per/qspi.h ****     /** Returns a pointer to the actual memory used 
 158:../../libDaisy//src/per/qspi.h ****      *  The memory at this address is read-only
 159:../../libDaisy//src/per/qspi.h ****      *  to write to it use the Write function.
 160:../../libDaisy//src/per/qspi.h ****      * 
 161:../../libDaisy//src/per/qspi.h ****      *  \param offset returns the pointer starting this 
 162:../../libDaisy//src/per/qspi.h ****      *                many bytes into the memory
 163:../../libDaisy//src/per/qspi.h ****     */
 164:../../libDaisy//src/per/qspi.h ****     void* GetData(uint32_t offset = 0);
 165:../../libDaisy//src/per/qspi.h **** 
 166:../../libDaisy//src/per/qspi.h ****     QSPIHandle() : pimpl_(nullptr) {}
 817              		.loc 16 166 5 view .LVU232
 818              	.LBE327:
 819              	.LBE326:
 820              	.LBE325:
 821              	.LBE324:
 822              	.LBE323:
 823              	.LBE322:
 824              	.LBE321:
 825              		.loc 15 151 1 is_stmt 0 view .LVU233
 826 0000 38B5     		push	{r3, r4, r5, lr}
 827              		.cfi_def_cfa_offset 16
 828              		.cfi_offset 3, -16
 829              		.cfi_offset 4, -12
 830              		.cfi_offset 5, -8
 831              		.cfi_offset 14, -4
 832              	.LBB425:
 833              	.LBB423:
 834              	.LBB419:
 835              	.LBB415:
 836              	.LBB348:
 837              	.LBB346:
 838              	.LBB332:
 839              	.LBB328:
 840              	.LBB329:
 841              		.loc 16 166 34 view .LVU234
 842 0002 124C     		ldr	r4, .L36
 843 0004 0025     		movs	r5, #0
 844              	.LBE329:
 845              	.LBE328:
 846              	.LBE332:
 847              	.LBE346:
 848              	.LBE348:
 849              	.LBB349:
 850              	.LBB350:
 851              	.LBB351:
 852              	.LBB352:
 157:../../libDaisy//src/hid/midi.h **** 
 158:../../libDaisy//src/hid/midi.h ****     struct Config
 853              		.loc 2 158 12 view .LVU235
 854 0006 04F5C070 		add	r0, r4, #384
 855              	.LBE352:
 856              	.LBE351:
ARM GAS  /var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s 			page 42


 857              	.LBE350:
 858              	.LBE349:
 859              	.LBB393:
 860              	.LBB347:
 861              	.LBB333:
 862              	.LBB331:
 863              	.LBB330:
 864              		.loc 16 166 34 view .LVU236
 865 000a 2560     		str	r5, [r4]
 866              	.LVL55:
 867              		.loc 16 166 34 view .LVU237
 868              	.LBE330:
 869              	.LBE331:
 870              	.LBE333:
 871              	.LBB334:
 872              	.LBI334:
  95:../../libDaisy//src/hid/audio.h ****     ~AudioHandle() {}
 873              		.loc 14 95 5 is_stmt 1 view .LVU238
 874              	.LBB335:
 875              	.LBB336:
  95:../../libDaisy//src/hid/audio.h ****     ~AudioHandle() {}
 876              		.loc 14 95 35 is_stmt 0 view .LVU239
 877 000c 6561     		str	r5, [r4, #20]
 878              	.LVL56:
  95:../../libDaisy//src/hid/audio.h ****     ~AudioHandle() {}
 879              		.loc 14 95 35 view .LVU240
 880              	.LBE336:
 881              	.LBE335:
 882              	.LBE334:
 883              	.LBB337:
 884              	.LBI337:
 109:../../libDaisy//src/per/adc.h ****     ~AdcHandle() {}
 885              		.loc 13 109 5 is_stmt 1 view .LVU241
 109:../../libDaisy//src/per/adc.h ****     ~AdcHandle() {}
 886              		.loc 13 109 5 is_stmt 0 view .LVU242
 887              	.LBE337:
 888              	.LBB338:
 889              	.LBI338:
 890              		.file 17 "../../libDaisy//src/per/dac.h"
   1:../../libDaisy//src/per/dac.h **** #pragma once
   2:../../libDaisy//src/per/dac.h **** #ifndef DSY_DAC_H
   3:../../libDaisy//src/per/dac.h **** #define DSY_DAC_H
   4:../../libDaisy//src/per/dac.h **** 
   5:../../libDaisy//src/per/dac.h **** #include "daisy_core.h"
   6:../../libDaisy//src/per/dac.h **** 
   7:../../libDaisy//src/per/dac.h **** namespace daisy
   8:../../libDaisy//src/per/dac.h **** {
   9:../../libDaisy//src/per/dac.h **** /** @brief DAC handle for Built-in DAC Peripheral 
  10:../../libDaisy//src/per/dac.h ****  *  @ingroup per_analog
  11:../../libDaisy//src/per/dac.h ****  ** 
  12:../../libDaisy//src/per/dac.h ****  ** For now only Normal Mode is supported,
  13:../../libDaisy//src/per/dac.h ****  ** Sample and hold mode provides reduced power consumption, but requires a bit more setup.
  14:../../libDaisy//src/per/dac.h ****  **
  15:../../libDaisy//src/per/dac.h ****  ** For now connecting the DAC through other internal peripherals is also not supported.
  16:../../libDaisy//src/per/dac.h ****  **
  17:../../libDaisy//src/per/dac.h ****  ** Since the DAC channels have dedicated pins we don't need to pass in a pin config like with
  18:../../libDaisy//src/per/dac.h ****  ** other modules. However, it is still important to not try to use the DAC pins for anything else.
ARM GAS  /var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s 			page 43


  19:../../libDaisy//src/per/dac.h ****  ** DAC Channel 1 is on PA4, and DAC Channel 2 is on PA5
  20:../../libDaisy//src/per/dac.h ****  ***/
  21:../../libDaisy//src/per/dac.h **** class DacHandle
  22:../../libDaisy//src/per/dac.h **** {
  23:../../libDaisy//src/per/dac.h ****   public:
  24:../../libDaisy//src/per/dac.h ****     /** Return Values for the DacHandle class */
  25:../../libDaisy//src/per/dac.h ****     enum class Result
  26:../../libDaisy//src/per/dac.h ****     {
  27:../../libDaisy//src/per/dac.h ****         OK,
  28:../../libDaisy//src/per/dac.h ****         ERR,
  29:../../libDaisy//src/per/dac.h ****     };
  30:../../libDaisy//src/per/dac.h **** 
  31:../../libDaisy//src/per/dac.h ****     /** Selects which channel(s) will be configured for use. */
  32:../../libDaisy//src/per/dac.h ****     enum class Channel
  33:../../libDaisy//src/per/dac.h ****     {
  34:../../libDaisy//src/per/dac.h ****         ONE,
  35:../../libDaisy//src/per/dac.h ****         TWO,
  36:../../libDaisy//src/per/dac.h ****         BOTH,
  37:../../libDaisy//src/per/dac.h ****     };
  38:../../libDaisy//src/per/dac.h **** 
  39:../../libDaisy//src/per/dac.h ****     /** Sets the Mode for the DAC channels.
  40:../../libDaisy//src/per/dac.h ****      **
  41:../../libDaisy//src/per/dac.h ****      ** Polling mode uses the blocking mode to transmit a single value at a time.
  42:../../libDaisy//src/per/dac.h ****      **
  43:../../libDaisy//src/per/dac.h ****      ** DMA mode uses a buffer, and periodically transmits it triggering a 
  44:../../libDaisy//src/per/dac.h ****      ** callback to fill the buffer when it is ready for more samples.
  45:../../libDaisy//src/per/dac.h ****      ***/
  46:../../libDaisy//src/per/dac.h ****     enum class Mode
  47:../../libDaisy//src/per/dac.h ****     {
  48:../../libDaisy//src/per/dac.h ****         POLLING,
  49:../../libDaisy//src/per/dac.h ****         DMA,
  50:../../libDaisy//src/per/dac.h ****     };
  51:../../libDaisy//src/per/dac.h **** 
  52:../../libDaisy//src/per/dac.h ****     /** Sets the number of bits per sample transmitted out of the DAC.
  53:../../libDaisy//src/per/dac.h ****      ** The output range will be: 0V - VDDA
  54:../../libDaisy//src/per/dac.h ****      ** The resolution will be roughly: bitdepth / (VDDA - 0V) 
  55:../../libDaisy//src/per/dac.h ****      ***/
  56:../../libDaisy//src/per/dac.h ****     enum class BitDepth
  57:../../libDaisy//src/per/dac.h ****     {
  58:../../libDaisy//src/per/dac.h ****         BITS_8,
  59:../../libDaisy//src/per/dac.h ****         BITS_12
  60:../../libDaisy//src/per/dac.h ****     };
  61:../../libDaisy//src/per/dac.h **** 
  62:../../libDaisy//src/per/dac.h ****     /** Sets whether the DAC output is buffered for higher drive ability. */
  63:../../libDaisy//src/per/dac.h ****     enum class BufferState
  64:../../libDaisy//src/per/dac.h ****     {
  65:../../libDaisy//src/per/dac.h ****         ENABLED,
  66:../../libDaisy//src/per/dac.h ****         DISABLED,
  67:../../libDaisy//src/per/dac.h ****     };
  68:../../libDaisy//src/per/dac.h **** 
  69:../../libDaisy//src/per/dac.h ****     /** Configuration structure for initializing the DAC structure. */
  70:../../libDaisy//src/per/dac.h ****     struct Config
  71:../../libDaisy//src/per/dac.h ****     {
  72:../../libDaisy//src/per/dac.h ****         /** Target Samplerate in Hz used to configure the internal 
  73:../../libDaisy//src/per/dac.h ****          ** timebase for DMA mode. Does nothing in POLLING mode.
  74:../../libDaisy//src/per/dac.h ****          ** If the value is 0 at Init time this will default to 48000Hz 
  75:../../libDaisy//src/per/dac.h ****          ** otherwise the driver will attempt meet the target.*/
ARM GAS  /var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s 			page 44


  76:../../libDaisy//src/per/dac.h ****         uint32_t target_samplerate;
  77:../../libDaisy//src/per/dac.h **** 
  78:../../libDaisy//src/per/dac.h ****         Channel     chn;
  79:../../libDaisy//src/per/dac.h ****         Mode        mode;
  80:../../libDaisy//src/per/dac.h ****         BitDepth    bitdepth;
  81:../../libDaisy//src/per/dac.h ****         BufferState buff_state;
  82:../../libDaisy//src/per/dac.h ****     };
  83:../../libDaisy//src/per/dac.h **** 
  84:../../libDaisy//src/per/dac.h ****     DacHandle() : pimpl_(nullptr) {}
 891              		.loc 17 84 5 is_stmt 1 view .LVU243
 892              	.LBB339:
 893              	.LBB340:
 894              		.loc 17 84 33 is_stmt 0 view .LVU244
 895 000e 2562     		str	r5, [r4, #32]
 896              	.LVL57:
 897              		.loc 17 84 33 view .LVU245
 898              	.LBE340:
 899              	.LBE339:
 900              	.LBE338:
 901              	.LBB341:
 902              	.LBI341:
  40:../../libDaisy//src/hid/usb.h **** 
 903              		.loc 12 40 5 is_stmt 1 view .LVU246
  40:../../libDaisy//src/hid/usb.h **** 
 904              		.loc 12 40 5 is_stmt 0 view .LVU247
 905              	.LBE341:
 906              	.LBB342:
 907              	.LBI342:
  96:../../libDaisy//src/sys/system.h ****     ~System() {}
 908              		.loc 11 96 5 is_stmt 1 view .LVU248
  96:../../libDaisy//src/sys/system.h ****     ~System() {}
 909              		.loc 11 96 5 is_stmt 0 view .LVU249
 910              	.LBE342:
 911              	.LBB343:
 912              	.LBI343:
 913              		.file 18 "../../libDaisy//src/per/sai.h"
   1:../../libDaisy//src/per/sai.h **** #pragma once
   2:../../libDaisy//src/per/sai.h **** #ifndef DSY_SAI_H
   3:../../libDaisy//src/per/sai.h **** #define DSY_SAI_H
   4:../../libDaisy//src/per/sai.h **** 
   5:../../libDaisy//src/per/sai.h **** #include "daisy_core.h"
   6:../../libDaisy//src/per/sai.h **** 
   7:../../libDaisy//src/per/sai.h **** namespace daisy
   8:../../libDaisy//src/per/sai.h **** {
   9:../../libDaisy//src/per/sai.h **** /** 
  10:../../libDaisy//src/per/sai.h ****  * Support for I2S Audio Protocol with different bit-depth, samplerate options
  11:../../libDaisy//src/per/sai.h ****  * Allows for master or slave, as well as freedom of selecting direction, 
  12:../../libDaisy//src/per/sai.h ****  * and other behavior for each peripheral, and block.
  13:../../libDaisy//src/per/sai.h ****  * 
  14:../../libDaisy//src/per/sai.h ****  * DMA Transfer commands must use buffers located within non-cached memory or use cache maintenance
  15:../../libDaisy//src/per/sai.h ****  * To declare an unitialized global element in the DMA memory section:
  16:../../libDaisy//src/per/sai.h ****  *    int32_t DSY_DMA_BUFFER_SECTOR my_buffer[96];
  17:../../libDaisy//src/per/sai.h ****  *
  18:../../libDaisy//src/per/sai.h ****  * Callback functions will be called once per half of the buffer. In the above example, 
  19:../../libDaisy//src/per/sai.h ****  * the callback function would be called once for every 48 samples.
  20:../../libDaisy//src/per/sai.h ****  * 
  21:../../libDaisy//src/per/sai.h ****  * Use SAI Handle like this:
ARM GAS  /var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s 			page 45


  22:../../libDaisy//src/per/sai.h ****  * 
  23:../../libDaisy//src/per/sai.h ****  *  SaiHandle::Config sai_config;
  24:../../libDaisy//src/per/sai.h ****  *  sai_config.periph          = SaiHandle::Config::Peripheral::SAI_1;
  25:../../libDaisy//src/per/sai.h ****  *  sai_config.sr              = SaiHandle::Config::SampleRate::SAI_48KHZ;
  26:../../libDaisy//src/per/sai.h ****  *  sai_config.bit_depth       = SaiHandle::Config::BitDepth::SAI_24BIT;
  27:../../libDaisy//src/per/sai.h ****  *  sai_config.a_sync          = SaiHandle::Config::Sync::MASTER;
  28:../../libDaisy//src/per/sai.h ****  *  sai_config.b_sync          = SaiHandle::Config::Sync::SLAVE;
  29:../../libDaisy//src/per/sai.h ****  *  sai_config.a_dir           = SaiHandle::Config::Direction::RECEIVE;
  30:../../libDaisy//src/per/sai.h ****  *  sai_config.b_dir           = SaiHandle::Config::Direction::TRANSMIT;
  31:../../libDaisy//src/per/sai.h ****  *  sai_config.pin_config.fs   = {DSY_GPIOE, 4};
  32:../../libDaisy//src/per/sai.h ****  *  sai_config.pin_config.mclk = {DSY_GPIOE, 2};
  33:../../libDaisy//src/per/sai.h ****  *  sai_config.pin_config.sck  = {DSY_GPIOE, 5};
  34:../../libDaisy//src/per/sai.h ****  *  sai_config.pin_config.sa   = {DSY_GPIOE, 6};
  35:../../libDaisy//src/per/sai.h ****  *  sai_config.pin_config.sb   = {DSY_GPIOE, 3};
  36:../../libDaisy//src/per/sai.h ****  *  // Then Initialize
  37:../../libDaisy//src/per/sai.h ****  *  SaiHandle sai;
  38:../../libDaisy//src/per/sai.h ****  *  sai.Init(sai_config);
  39:../../libDaisy//src/per/sai.h ****  *  // Now you can use it:
  40:../../libDaisy//src/per/sai.h ****  *  sai.StartDma(. . .);
  41:../../libDaisy//src/per/sai.h ****  */
  42:../../libDaisy//src/per/sai.h **** class SaiHandle
  43:../../libDaisy//src/per/sai.h **** {
  44:../../libDaisy//src/per/sai.h ****   public:
  45:../../libDaisy//src/per/sai.h ****     /** Contains settings for initialising an SAI Interface */
  46:../../libDaisy//src/per/sai.h ****     struct Config
  47:../../libDaisy//src/per/sai.h ****     {
  48:../../libDaisy//src/per/sai.h ****         /** Specifies the internal peripheral to use (mapped to different hardware pins) */
  49:../../libDaisy//src/per/sai.h ****         enum class Peripheral
  50:../../libDaisy//src/per/sai.h ****         {
  51:../../libDaisy//src/per/sai.h ****             SAI_1,
  52:../../libDaisy//src/per/sai.h ****             SAI_2,
  53:../../libDaisy//src/per/sai.h ****         };
  54:../../libDaisy//src/per/sai.h **** 
  55:../../libDaisy//src/per/sai.h ****         /** Rate at which samples will be streaming to/from the device. */
  56:../../libDaisy//src/per/sai.h ****         enum class SampleRate
  57:../../libDaisy//src/per/sai.h ****         {
  58:../../libDaisy//src/per/sai.h ****             SAI_8KHZ,
  59:../../libDaisy//src/per/sai.h ****             SAI_16KHZ,
  60:../../libDaisy//src/per/sai.h ****             SAI_32KHZ,
  61:../../libDaisy//src/per/sai.h ****             SAI_48KHZ,
  62:../../libDaisy//src/per/sai.h ****             SAI_96KHZ,
  63:../../libDaisy//src/per/sai.h ****         };
  64:../../libDaisy//src/per/sai.h **** 
  65:../../libDaisy//src/per/sai.h ****         /** Bit Depth that the hardware expects to be transferred to/from the device. */
  66:../../libDaisy//src/per/sai.h ****         enum class BitDepth
  67:../../libDaisy//src/per/sai.h ****         {
  68:../../libDaisy//src/per/sai.h ****             SAI_16BIT,
  69:../../libDaisy//src/per/sai.h ****             SAI_24BIT,
  70:../../libDaisy//src/per/sai.h ****             SAI_32BIT,
  71:../../libDaisy//src/per/sai.h ****         };
  72:../../libDaisy//src/per/sai.h **** 
  73:../../libDaisy//src/per/sai.h ****         /** Specifies whether a particular block is the master or the slave 
  74:../../libDaisy//src/per/sai.h ****          ** If both are set to slave, no MCLK signal will be used, and it is
  75:../../libDaisy//src/per/sai.h ****          ** expected that the codec will have its own xtal.
  76:../../libDaisy//src/per/sai.h ****          */
  77:../../libDaisy//src/per/sai.h ****         enum class Sync
  78:../../libDaisy//src/per/sai.h ****         {
ARM GAS  /var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s 			page 46


  79:../../libDaisy//src/per/sai.h ****             MASTER,
  80:../../libDaisy//src/per/sai.h ****             SLAVE,
  81:../../libDaisy//src/per/sai.h ****         };
  82:../../libDaisy//src/per/sai.h **** 
  83:../../libDaisy//src/per/sai.h ****         /** Specifies the direction for each peripheral block. */
  84:../../libDaisy//src/per/sai.h ****         enum class Direction
  85:../../libDaisy//src/per/sai.h ****         {
  86:../../libDaisy//src/per/sai.h ****             TRANSMIT,
  87:../../libDaisy//src/per/sai.h ****             RECEIVE,
  88:../../libDaisy//src/per/sai.h ****         };
  89:../../libDaisy//src/per/sai.h **** 
  90:../../libDaisy//src/per/sai.h ****         Peripheral periph;
  91:../../libDaisy//src/per/sai.h ****         struct
  92:../../libDaisy//src/per/sai.h ****         {
  93:../../libDaisy//src/per/sai.h ****             dsy_gpio_pin mclk, fs, sck, sa, sb;
  94:../../libDaisy//src/per/sai.h ****         } pin_config;
  95:../../libDaisy//src/per/sai.h ****         SampleRate sr;
  96:../../libDaisy//src/per/sai.h ****         BitDepth   bit_depth;
  97:../../libDaisy//src/per/sai.h ****         Sync       a_sync, b_sync;
  98:../../libDaisy//src/per/sai.h ****         Direction  a_dir, b_dir;
  99:../../libDaisy//src/per/sai.h ****     };
 100:../../libDaisy//src/per/sai.h **** 
 101:../../libDaisy//src/per/sai.h ****     /** Return values for SAI functions */
 102:../../libDaisy//src/per/sai.h ****     enum class Result
 103:../../libDaisy//src/per/sai.h ****     {
 104:../../libDaisy//src/per/sai.h ****         OK,
 105:../../libDaisy//src/per/sai.h ****         ERR,
 106:../../libDaisy//src/per/sai.h ****     };
 107:../../libDaisy//src/per/sai.h **** 
 108:../../libDaisy//src/per/sai.h ****     SaiHandle() : pimpl_(nullptr) {}
 914              		.loc 18 108 5 is_stmt 1 view .LVU250
 915              	.LBB344:
 916              	.LBB345:
 917              		.loc 18 108 33 is_stmt 0 view .LVU251
 918 0010 E563     		str	r5, [r4, #60]
 919              	.LVL58:
 920              		.loc 18 108 33 view .LVU252
 921              	.LBE345:
 922              	.LBE344:
 923              	.LBE343:
 924              	.LBE347:
 925              	.LBE393:
 926              	.LBB394:
 927              	.LBI394:
  20:../../libDaisy//src/hid/encoder.h ****     ~Encoder() {}
 928              		.loc 9 20 5 is_stmt 1 view .LVU253
 929              	.LBB395:
 930              	.LBB396:
 931              	.LBI396:
  41:../../libDaisy//src/hid/switch.h ****     ~Switch() {}
 932              		.loc 7 41 5 view .LVU254
  41:../../libDaisy//src/hid/switch.h ****     ~Switch() {}
 933              		.loc 7 41 5 is_stmt 0 view .LVU255
 934              	.LBE396:
 935              	.LBE395:
 936              	.LBE394:
 937              	.LBB397:
ARM GAS  /var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s 			page 47


 938              	.LBI397:
  21:../../libDaisy//src/hid/ctrl.h ****     /** destructor */
 939              		.loc 8 21 5 is_stmt 1 view .LVU256
  21:../../libDaisy//src/hid/ctrl.h ****     /** destructor */
 940              		.loc 8 21 5 is_stmt 0 view .LVU257
 941              	.LBE397:
 942              	.LBB398:
 943              	.LBI398:
  21:../../libDaisy//src/hid/ctrl.h ****     /** destructor */
 944              		.loc 8 21 5 is_stmt 1 view .LVU258
  21:../../libDaisy//src/hid/ctrl.h ****     /** destructor */
 945              		.loc 8 21 5 is_stmt 0 view .LVU259
 946              	.LBE398:
 947              	.LBB399:
 948              	.LBI399:
  41:../../libDaisy//src/hid/switch.h ****     ~Switch() {}
 949              		.loc 7 41 5 is_stmt 1 view .LVU260
  41:../../libDaisy//src/hid/switch.h ****     ~Switch() {}
 950              		.loc 7 41 5 is_stmt 0 view .LVU261
 951              	.LBE399:
 952              	.LBB400:
 953              	.LBI400:
  41:../../libDaisy//src/hid/switch.h ****     ~Switch() {}
 954              		.loc 7 41 5 is_stmt 1 view .LVU262
  41:../../libDaisy//src/hid/switch.h ****     ~Switch() {}
 955              		.loc 7 41 5 is_stmt 0 view .LVU263
 956              	.LBE400:
 957              	.LBB401:
 958              	.LBI401:
  17:../../libDaisy//src/hid/rgb_led.h ****     ~RgbLed() {}
 959              		.loc 5 17 5 is_stmt 1 view .LVU264
 960              	.LBB402:
 961              	.LBB403:
 962              	.LBI403:
  24:../../libDaisy//src/hid/led.h ****     ~Led() {}
 963              		.loc 6 24 5 view .LVU265
  24:../../libDaisy//src/hid/led.h ****     ~Led() {}
 964              		.loc 6 24 5 is_stmt 0 view .LVU266
 965              	.LBE403:
 966              	.LBB404:
 967              	.LBI404:
  24:../../libDaisy//src/hid/led.h ****     ~Led() {}
 968              		.loc 6 24 5 is_stmt 1 view .LVU267
  24:../../libDaisy//src/hid/led.h ****     ~Led() {}
 969              		.loc 6 24 5 is_stmt 0 view .LVU268
 970              	.LBE404:
 971              	.LBB405:
 972              	.LBI405:
  24:../../libDaisy//src/hid/led.h ****     ~Led() {}
 973              		.loc 6 24 5 is_stmt 1 view .LVU269
  24:../../libDaisy//src/hid/led.h ****     ~Led() {}
 974              		.loc 6 24 5 is_stmt 0 view .LVU270
 975              	.LBE405:
 976              	.LBE402:
 977              	.LBE401:
 978              	.LBB406:
 979              	.LBI406:
ARM GAS  /var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s 			page 48


  17:../../libDaisy//src/hid/rgb_led.h ****     ~RgbLed() {}
 980              		.loc 5 17 5 is_stmt 1 view .LVU271
 981              	.LBB407:
 982              	.LBB408:
 983              	.LBI408:
  24:../../libDaisy//src/hid/led.h ****     ~Led() {}
 984              		.loc 6 24 5 view .LVU272
  24:../../libDaisy//src/hid/led.h ****     ~Led() {}
 985              		.loc 6 24 5 is_stmt 0 view .LVU273
 986              	.LBE408:
 987              	.LBB409:
 988              	.LBI409:
  24:../../libDaisy//src/hid/led.h ****     ~Led() {}
 989              		.loc 6 24 5 is_stmt 1 view .LVU274
  24:../../libDaisy//src/hid/led.h ****     ~Led() {}
 990              		.loc 6 24 5 is_stmt 0 view .LVU275
 991              	.LBE409:
 992              	.LBB410:
 993              	.LBI410:
  24:../../libDaisy//src/hid/led.h ****     ~Led() {}
 994              		.loc 6 24 5 is_stmt 1 view .LVU276
  24:../../libDaisy//src/hid/led.h ****     ~Led() {}
 995              		.loc 6 24 5 is_stmt 0 view .LVU277
 996              	.LBE410:
 997              	.LBE407:
 998              	.LBE406:
 999              	.LBB411:
 1000              	.LBI349:
 155:../../libDaisy//src/hid/midi.h ****     ~MidiHandler() {}
 1001              		.loc 2 155 5 is_stmt 1 view .LVU278
 1002              	.LBB389:
 1003              	.LBB354:
 1004              	.LBI351:
 1005              		.loc 2 158 12 view .LVU279
 1006              	.LBB353:
 1007 0012 FFF7FEFF 		bl	_ZN5daisy17MidiUartTransport6ConfigC1Ev
 1008              	.LVL59:
 1009              		.loc 2 158 12 is_stmt 0 view .LVU280
 1010              	.LBE353:
 1011              	.LBE354:
 1012              	.LBB355:
 1013              	.LBI355:
  31:../../libDaisy//src/hid/midi.h ****     ~MidiUartTransport() {}
 1014              		.loc 2 31 5 is_stmt 1 view .LVU281
 1015              	.LBB356:
 1016              	.LBB357:
 1017              	.LBI357:
 1018              		.file 19 "../../libDaisy//src/per/uart.h"
   1:../../libDaisy//src/per/uart.h **** /* 
   2:../../libDaisy//src/per/uart.h **** TODO
   3:../../libDaisy//src/per/uart.h **** - Overflow handling, etc. for Rx Queue.
   4:../../libDaisy//src/per/uart.h **** */
   5:../../libDaisy//src/per/uart.h **** 
   6:../../libDaisy//src/per/uart.h **** #pragma once
   7:../../libDaisy//src/per/uart.h **** #ifndef DSY_UART_H
   8:../../libDaisy//src/per/uart.h **** #define DSY_UART_H /**< macro */
   9:../../libDaisy//src/per/uart.h **** #include "daisy_core.h"
ARM GAS  /var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s 			page 49


  10:../../libDaisy//src/per/uart.h **** 
  11:../../libDaisy//src/per/uart.h **** 
  12:../../libDaisy//src/per/uart.h **** namespace daisy
  13:../../libDaisy//src/per/uart.h **** {
  14:../../libDaisy//src/per/uart.h **** /** @addtogroup serial
  15:../../libDaisy//src/per/uart.h ****     @{
  16:../../libDaisy//src/per/uart.h ****     */
  17:../../libDaisy//src/per/uart.h **** 
  18:../../libDaisy//src/per/uart.h **** /** 
  19:../../libDaisy//src/per/uart.h ****     Uart Peripheral
  20:../../libDaisy//src/per/uart.h ****     @author shensley
  21:../../libDaisy//src/per/uart.h ****     @date March 2020
  22:../../libDaisy//src/per/uart.h ****     */
  23:../../libDaisy//src/per/uart.h **** class UartHandler
  24:../../libDaisy//src/per/uart.h **** {
  25:../../libDaisy//src/per/uart.h ****   public:
  26:../../libDaisy//src/per/uart.h ****     struct Config
  27:../../libDaisy//src/per/uart.h ****     {
  28:../../libDaisy//src/per/uart.h ****         enum class Peripheral
  29:../../libDaisy//src/per/uart.h ****         {
  30:../../libDaisy//src/per/uart.h ****             USART_1,
  31:../../libDaisy//src/per/uart.h ****             USART_2,
  32:../../libDaisy//src/per/uart.h ****             USART_3,
  33:../../libDaisy//src/per/uart.h ****             UART_4,
  34:../../libDaisy//src/per/uart.h ****             UART_5,
  35:../../libDaisy//src/per/uart.h ****             USART_6,
  36:../../libDaisy//src/per/uart.h ****             UART_7,
  37:../../libDaisy//src/per/uart.h ****             UART_8,
  38:../../libDaisy//src/per/uart.h ****             LPUART_1,
  39:../../libDaisy//src/per/uart.h ****         };
  40:../../libDaisy//src/per/uart.h **** 
  41:../../libDaisy//src/per/uart.h ****         enum class StopBits
  42:../../libDaisy//src/per/uart.h ****         {
  43:../../libDaisy//src/per/uart.h ****             BITS_0_5,
  44:../../libDaisy//src/per/uart.h ****             BITS_1,
  45:../../libDaisy//src/per/uart.h ****             BITS_1_5,
  46:../../libDaisy//src/per/uart.h ****             BITS_2,
  47:../../libDaisy//src/per/uart.h ****         };
  48:../../libDaisy//src/per/uart.h **** 
  49:../../libDaisy//src/per/uart.h ****         enum class Parity
  50:../../libDaisy//src/per/uart.h ****         {
  51:../../libDaisy//src/per/uart.h ****             NONE,
  52:../../libDaisy//src/per/uart.h ****             EVEN,
  53:../../libDaisy//src/per/uart.h ****             ODD,
  54:../../libDaisy//src/per/uart.h ****         };
  55:../../libDaisy//src/per/uart.h **** 
  56:../../libDaisy//src/per/uart.h ****         enum class Mode
  57:../../libDaisy//src/per/uart.h ****         {
  58:../../libDaisy//src/per/uart.h ****             RX,
  59:../../libDaisy//src/per/uart.h ****             TX,
  60:../../libDaisy//src/per/uart.h ****             TX_RX,
  61:../../libDaisy//src/per/uart.h ****         };
  62:../../libDaisy//src/per/uart.h **** 
  63:../../libDaisy//src/per/uart.h ****         enum class WordLength
  64:../../libDaisy//src/per/uart.h ****         {
  65:../../libDaisy//src/per/uart.h ****             BITS_7,
  66:../../libDaisy//src/per/uart.h ****             BITS_8,
ARM GAS  /var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s 			page 50


  67:../../libDaisy//src/per/uart.h ****             BITS_9,
  68:../../libDaisy//src/per/uart.h ****         };
  69:../../libDaisy//src/per/uart.h **** 
  70:../../libDaisy//src/per/uart.h ****         struct
  71:../../libDaisy//src/per/uart.h ****         {
  72:../../libDaisy//src/per/uart.h ****             dsy_gpio_pin tx; /**< & */
  73:../../libDaisy//src/per/uart.h ****             dsy_gpio_pin rx; /**< & */
  74:../../libDaisy//src/per/uart.h ****         } pin_config;        /**< & */
  75:../../libDaisy//src/per/uart.h **** 
  76:../../libDaisy//src/per/uart.h ****         Config()
  77:../../libDaisy//src/per/uart.h ****         {
  78:../../libDaisy//src/per/uart.h ****             // user must init periph, pin_config, and mode
  79:../../libDaisy//src/per/uart.h ****             stopbits   = StopBits::BITS_1;
  80:../../libDaisy//src/per/uart.h ****             parity     = Parity::NONE;
  81:../../libDaisy//src/per/uart.h ****             wordlength = WordLength::BITS_8;
  82:../../libDaisy//src/per/uart.h ****             baudrate   = 31250;
  83:../../libDaisy//src/per/uart.h ****         }
  84:../../libDaisy//src/per/uart.h **** 
  85:../../libDaisy//src/per/uart.h ****         Peripheral periph;
  86:../../libDaisy//src/per/uart.h ****         StopBits   stopbits;
  87:../../libDaisy//src/per/uart.h ****         Parity     parity;
  88:../../libDaisy//src/per/uart.h ****         Mode       mode;
  89:../../libDaisy//src/per/uart.h ****         WordLength wordlength;
  90:../../libDaisy//src/per/uart.h ****         uint32_t   baudrate;
  91:../../libDaisy//src/per/uart.h ****     };
  92:../../libDaisy//src/per/uart.h **** 
  93:../../libDaisy//src/per/uart.h **** 
  94:../../libDaisy//src/per/uart.h ****     UartHandler() : pimpl_(nullptr) {}
 1019              		.loc 19 94 5 view .LVU282
 1020              		.loc 19 94 5 is_stmt 0 view .LVU283
 1021              	.LBE357:
 1022              	.LBE356:
 1023              	.LBE355:
 1024              	.LBB362:
 1025              	.LBI362:
  18:../../libDaisy//src/hid/midi_parser.h ****     ~MidiParser() {}
 1026              		.loc 4 18 5 is_stmt 1 view .LVU284
 1027              	.LBB363:
  18:../../libDaisy//src/hid/midi_parser.h ****     ~MidiParser() {}
 1028              		.loc 4 18 17 is_stmt 0 view .LVU285
 1029 0016 0E4B     		ldr	r3, .L36+4
 1030              	.LBE363:
 1031              	.LBE362:
 1032              	.LBE389:
 1033              	.LBE411:
 1034              	.LBE415:
 1035              	.LBE419:
   8:src/realtime-bpm-detection.cpp **** DaisyPod hw;
 1036              		.loc 15 8 10 view .LVU286
 1037 0018 2046     		mov	r0, r4
 1038              	.LBB420:
 1039              	.LBB416:
 1040              	.LBB412:
 1041              	.LBB390:
 1042              	.LBB366:
 1043              	.LBB361:
 1044              	.LBB360:
ARM GAS  /var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s 			page 51


 1045              	.LBB358:
 1046              	.LBB359:
 1047              		.loc 19 94 35 view .LVU287
 1048 001a C4F89051 		str	r5, [r4, #400]
 1049              	.LBE359:
 1050              	.LBE358:
 1051              	.LBE360:
 1052              	.LBE361:
 1053              	.LBE366:
 1054              	.LBB367:
 1055              	.LBB364:
  18:../../libDaisy//src/hid/midi_parser.h ****     ~MidiParser() {}
 1056              		.loc 4 18 17 view .LVU288
 1057 001e C4F83832 		str	r3, [r4, #568]
 1058 0022 40F20F73 		movw	r3, #1807
 1059              	.LBE364:
 1060              	.LBE367:
 1061              	.LBB368:
 1062              	.LBB369:
 1063              	.LBB370:
 1064              	.LBB371:
 1065              	.LBB372:
  15:../../libDaisy//src/util/FIFO.h ****     {
 1066              		.loc 3 15 75 view .LVU289
 1067 0026 C4F84C52 		str	r5, [r4, #588]
 1068              	.LBE372:
 1069              	.LBE371:
 1070              	.LBE370:
 1071              	.LBE369:
 1072              	.LBE368:
 1073              	.LBB385:
 1074              	.LBB365:
  18:../../libDaisy//src/hid/midi_parser.h ****     ~MidiParser() {}
 1075              		.loc 4 18 17 view .LVU290
 1076 002a A4F83C32 		strh	r3, [r4, #572]	@ movhi
 1077              	.LVL60:
  18:../../libDaisy//src/hid/midi_parser.h ****     ~MidiParser() {}
 1078              		.loc 4 18 17 view .LVU291
 1079              	.LBE365:
 1080              	.LBE385:
 1081              	.LBB386:
 1082              	.LBI368:
 299:../../libDaisy//src/util/FIFO.h **** {
 300:../../libDaisy//src/util/FIFO.h ****   public:
 301:../../libDaisy//src/util/FIFO.h ****     /** Creates an empty FIFO */
 302:../../libDaisy//src/util/FIFO.h ****     FIFO() : FIFOBase<T>(buffer_, capacity + 1) {}
 1083              		.loc 3 302 5 is_stmt 1 view .LVU292
 1084              	.LBB382:
 1085              	.LBB379:
 1086              	.LBI370:
  14:../../libDaisy//src/util/FIFO.h ****     : buffer_(buffer), bufferSize_(bufferSize), bufferIn_(0), bufferOut_(0)
 1087              		.loc 3 14 5 view .LVU293
 1088              	.LBB376:
 1089              	.LBB373:
  15:../../libDaisy//src/util/FIFO.h ****     {
 1090              		.loc 3 15 75 is_stmt 0 view .LVU294
 1091 002e 04F51473 		add	r3, r4, #592
ARM GAS  /var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s 			page 52


 1092              	.LBE373:
 1093              	.LBE376:
 1094              	.LBE379:
 1095              	.LBE382:
 1096              	.LBE386:
 1097              	.LBE390:
 1098              	.LBE412:
 1099              	.LBE416:
 1100              	.LBE420:
   8:src/realtime-bpm-detection.cpp **** DaisyPod hw;
 1101              		.loc 15 8 10 view .LVU295
 1102 0032 084A     		ldr	r2, .L36+8
 1103              	.LBB421:
 1104              	.LBB417:
 1105              	.LBB413:
 1106              	.LBB391:
 1107              	.LBB387:
 1108              	.LBB383:
 1109              	.LBB380:
 1110              	.LBB377:
 1111              	.LBB374:
  15:../../libDaisy//src/util/FIFO.h ****     {
 1112              		.loc 3 15 75 view .LVU296
 1113 0034 C4F84032 		str	r3, [r4, #576]
 1114 0038 40F20113 		movw	r3, #257
 1115              	.LBE374:
 1116              	.LBE377:
 1117              	.LBE380:
 1118              	.LBE383:
 1119              	.LBE387:
 1120              	.LBE391:
 1121              	.LBE413:
 1122              	.LBE417:
 1123              	.LBE421:
   8:src/realtime-bpm-detection.cpp **** DaisyPod hw;
 1124              		.loc 15 8 10 view .LVU297
 1125 003c 0649     		ldr	r1, .L36+12
 1126              	.LBB422:
 1127              	.LBB418:
 1128              	.LBB414:
 1129              	.LBB392:
 1130              	.LBB388:
 1131              	.LBB384:
 1132              	.LBB381:
 1133              	.LBB378:
 1134              	.LBB375:
  15:../../libDaisy//src/util/FIFO.h ****     {
 1135              		.loc 3 15 75 view .LVU298
 1136 003e C4E99135 		strd	r3, r5, [r4, #580]
 1137              	.LBE375:
 1138              	.LBE378:
 1139              	.LBE381:
 1140              	.LBE384:
 1141              	.LBE388:
 1142              	.LBE392:
 1143              	.LBE414:
 1144              	.LBE418:
ARM GAS  /var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s 			page 53


 1145              	.LBE422:
 1146              	.LBE423:
 1147              	.LBE425:
 1148              		.loc 15 151 1 view .LVU299
 1149 0042 BDE83840 		pop	{r3, r4, r5, lr}
 1150              		.cfi_restore 14
 1151              		.cfi_restore 5
 1152              		.cfi_restore 4
 1153              		.cfi_restore 3
 1154              		.cfi_def_cfa_offset 0
 1155              	.LBB426:
 1156              	.LBB424:
   8:src/realtime-bpm-detection.cpp **** DaisyPod hw;
 1157              		.loc 15 8 10 view .LVU300
 1158 0046 FFF7FEBF 		b	__aeabi_atexit
 1159              	.LVL61:
 1160              	.L37:
 1161 004a 00BF     		.align	2
 1162              	.L36:
 1163 004c 00000000 		.word	hw
 1164 0050 0080707F 		.word	2138079232
 1165 0054 00000000 		.word	__dso_handle
 1166 0058 00000000 		.word	_ZN5daisy8DaisyPodD1Ev
 1167              	.LBE424:
 1168              	.LBE426:
 1169              		.cfi_endproc
 1170              	.LFE2614:
 1172              		.section	.init_array,"aw",%init_array
 1173              		.align	2
 1174 0000 00000000 		.word	_GLOBAL__sub_I_hw(target1)
 1175              		.global	bpmArrayFilled
 1176              		.global	bpmIndex
 1177              		.global	bpmValues
 1178              		.global	lastUpdateTime
 1179              		.global	totalSamples
 1180              		.global	bufferIndex
 1181              		.global	audioBuffer
 1182              		.global	btt
 1183              		.global	hw
 1184              		.section	.bss._ZZ4mainE9led_state,"aw",%nobits
 1185              		.set	.LANCHOR10,. + 0
 1188              	_ZZ4mainE9led_state:
 1189 0000 00       		.space	1
 1190              		.section	.bss.bpmArrayFilled,"aw",%nobits
 1191              		.set	.LANCHOR0,. + 0
 1194              	bpmArrayFilled:
 1195 0000 00       		.space	1
 1196              		.section	.bss.bpmIndex,"aw",%nobits
 1197              		.align	2
 1198              		.set	.LANCHOR1,. + 0
 1201              	bpmIndex:
 1202 0000 00000000 		.space	4
 1203              		.section	.bss.btt,"aw",%nobits
 1204              		.align	2
 1205              		.set	.LANCHOR4,. + 0
 1208              	btt:
 1209 0000 00000000 		.space	4
ARM GAS  /var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s 			page 54


 1210              		.section	.bss.bufferIndex,"aw",%nobits
 1211              		.align	2
 1212              		.set	.LANCHOR6,. + 0
 1215              	bufferIndex:
 1216 0000 00000000 		.space	4
 1217              		.section	.bss.hw,"aw",%nobits
 1218              		.align	2
 1221              	hw:
 1222 0000 00000000 		.space	37600
 1222      00000000 
 1222      00000000 
 1222      00000000 
 1222      00000000 
 1223              		.section	.bss.lastUpdateTime,"aw",%nobits
 1224              		.align	2
 1225              		.set	.LANCHOR7,. + 0
 1228              	lastUpdateTime:
 1229 0000 00000000 		.space	4
 1230              		.section	.bss.totalSamples,"aw",%nobits
 1231              		.align	2
 1232              		.set	.LANCHOR3,. + 0
 1235              	totalSamples:
 1236 0000 00000000 		.space	4
 1237              		.section	.rodata._ZL13error_message,"a"
 1238              		.set	.LANCHOR8,. + 0
 1241              	_ZL13error_message:
 1242 0000 42545420 		.ascii	"BTT initialization failed!\000"
 1242      696E6974 
 1242      69616C69 
 1242      7A617469 
 1242      6F6E2066 
 1243              		.section	.rodata._ZL15startup_message,"a"
 1244              		.set	.LANCHOR9,. + 0
 1247              	_ZL15startup_message:
 1248 0000 42504D20 		.ascii	"BPM Detection Starting...\000"
 1248      44657465 
 1248      6374696F 
 1248      6E205374 
 1248      61727469 
 1249              		.section	.rodata._ZL17bpm_format_string,"a"
 1250              		.set	.LANCHOR5,. + 0
 1253              	_ZL17bpm_format_string:
 1254 0000 42504D3A 		.ascii	"BPM: %.1f (Certainty: %.2f)\000"
 1254      20252E31 
 1254      66202843 
 1254      65727461 
 1254      696E7479 
 1255              		.section	.sdram_bss,"aw"
 1256              		.align	2
 1257              		.set	.LANCHOR2,. + 0
 1260              	bpmValues:
 1261 0000 00000000 		.space	40
 1261      00000000 
 1261      00000000 
 1261      00000000 
 1261      00000000 
 1264              	audioBuffer:
ARM GAS  /var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s 			page 55


 1265 0028 00000000 		.space	1920000
 1265      00000000 
 1265      00000000 
 1265      00000000 
 1265      00000000 
 1266              		.text
 1267              	.Letext0:
 1268              		.file 20 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/machine/_default_types.h"
 1269              		.file 21 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/sys/_stdint.h"
 1270              		.file 22 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/stdint.h"
 1271              		.file 23 "/Library/DaisyToolchain/0.2.0/arm/lib/gcc/arm-none-eabi/10.3.1/include/stddef.h"
 1272              		.file 24 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/cmath"
 1273              		.file 25 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/bits/std_abs.h"
 1274              		.file 26 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/cstdlib"
 1275              		.file 27 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/cstdint"
 1276              		.file 28 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/arm-none-eabi/thumb/v
 1277              		.file 29 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/type_traits"
 1278              		.file 30 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/debug/debug.h"
 1279              		.file 31 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/bits/algorithmfwd.h"
 1280              		.file 32 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/bits/stl_pair.h"
 1281              		.file 33 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/bits/exception_ptr.h"
 1282              		.file 34 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/initializer_list"
 1283              		.file 35 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/cstdarg"
 1284              		.file 36 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/cstdio"
 1285              		.file 37 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/cstring"
 1286              		.file 38 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/bits/predefined_ops.h
 1287              		.file 39 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/sys/_types.h"
 1288              		.file 40 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/sys/reent.h"
 1289              		.file 41 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/sys/lock.h"
 1290              		.file 42 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/math.h"
 1291              		.file 43 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/stdlib.h"
 1292              		.file 44 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/math.h"
 1293              		.file 45 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/bits/stl_algobase.h"
 1294              		.file 46 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/stdlib.h"
 1295              		.file 47 "../../libDaisy//src/daisy_core.h"
 1296              		.file 48 "../../libDaisy//src/per/tim.h"
 1297              		.file 49 "../../libDaisy//src/hid/MidiEvent.h"
 1298              		.file 50 "../../libDaisy//src/hid/logger_impl.h"
 1299              		.file 51 "../../libDaisy//src/util/wav_format.h"
 1300              		.file 52 "../../libDaisy//src/util/color.h"
 1301              		.file 53 "../../libDaisy//src/dev/max11300.h"
 1302              		.file 54 "../../libDaisy//src/hid/logger.h"
 1303              		.file 55 "../../libDaisy//src/per/gpio.h"
 1304              		.file 56 "../../libDaisy//src/dev/sdram.h"
 1305              		.file 57 "/Library/DaisyToolchain/0.2.0/arm/lib/gcc/arm-none-eabi/10.3.1/include/stdarg.h"
 1306              		.file 58 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/stdio.h"
 1307              		.file 59 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/string.h"
 1308              		.file 60 "../../libDaisy//src/dev/sr_595.h"
 1309              		.file 61 "./lib/BTT/BTT.h"
 1310              		.file 62 "<built-in>"
ARM GAS  /var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s 			page 56


DEFINED SYMBOLS
                            *ABS*:0000000000000000 realtime-bpm-detection.cpp
/var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s:19     .text._ZN5daisy8DaisyPodD2Ev:0000000000000000 $t
/var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s:25     .text._ZN5daisy8DaisyPodD2Ev:0000000000000000 _ZN5daisy8DaisyPodD2Ev
/var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s:25     .text._ZN5daisy8DaisyPodD2Ev:0000000000000000 _ZN5daisy8DaisyPodD1Ev
/var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s:169    .text._Z19CalculateAverageBpmv:0000000000000000 $t
/var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s:175    .text._Z19CalculateAverageBpmv:0000000000000000 _Z19CalculateAverageBpmv
/var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s:241    .text._Z19CalculateAverageBpmv:0000000000000038 $d
/var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s:249    .dtcmram:0000000000000000 $t
/var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s:255    .dtcmram:0000000000000000 _Z10ProcessBpmv
/var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s:368    .dtcmram:0000000000000074 $d
/var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s:1264   .sdram_bss:0000000000000028 audioBuffer
/var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s:381    .text._Z13AudioCallbackPKPKfPPfj:0000000000000000 $t
/var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s:387    .text._Z13AudioCallbackPKPKfPPfj:0000000000000000 _Z13AudioCallbackPKPKfPPfj
/var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s:529    .text._Z13AudioCallbackPKPKfPPfj:0000000000000094 $d
/var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s:538    .text.startup.main:0000000000000000 $t
/var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s:544    .text.startup.main:0000000000000000 main
/var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s:770    .text.startup.main:00000000000000e8 $d
/var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s:1221   .bss.hw:0000000000000000 hw
/var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s:790    .text.startup._GLOBAL__sub_I_hw:0000000000000000 $t
/var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s:795    .text.startup._GLOBAL__sub_I_hw:0000000000000000 _GLOBAL__sub_I_hw
/var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s:1163   .text.startup._GLOBAL__sub_I_hw:000000000000004c $d
/var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s:1173   .init_array:0000000000000000 $d
/var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s:1194   .bss.bpmArrayFilled:0000000000000000 bpmArrayFilled
/var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s:1201   .bss.bpmIndex:0000000000000000 bpmIndex
/var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s:1260   .sdram_bss:0000000000000000 bpmValues
/var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s:1228   .bss.lastUpdateTime:0000000000000000 lastUpdateTime
/var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s:1235   .bss.totalSamples:0000000000000000 totalSamples
/var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s:1215   .bss.bufferIndex:0000000000000000 bufferIndex
/var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s:1208   .bss.btt:0000000000000000 btt
/var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s:1188   .bss._ZZ4mainE9led_state:0000000000000000 _ZZ4mainE9led_state
/var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s:1189   .bss._ZZ4mainE9led_state:0000000000000000 $d
/var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s:1195   .bss.bpmArrayFilled:0000000000000000 $d
/var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s:1197   .bss.bpmIndex:0000000000000000 $d
/var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s:1204   .bss.btt:0000000000000000 $d
/var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s:1211   .bss.bufferIndex:0000000000000000 $d
/var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s:1218   .bss.hw:0000000000000000 $d
/var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s:1224   .bss.lastUpdateTime:0000000000000000 $d
/var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s:1231   .bss.totalSamples:0000000000000000 $d
/var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s:1241   .rodata._ZL13error_message:0000000000000000 _ZL13error_message
/var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s:1247   .rodata._ZL15startup_message:0000000000000000 _ZL15startup_message
/var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s:1253   .rodata._ZL17bpm_format_string:0000000000000000 _ZL17bpm_format_string
/var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s:1256   .sdram_bss:0000000000000000 $d
                           .group:0000000000000000 _ZN5daisy8DaisyPodD5Ev

UNDEFINED SYMBOLS
btt_process
btt_get_tempo_bpm
btt_get_tempo_certainty
_ZN5daisy6LoggerILNS_17LoggerDestinationE1EE9PrintLineEPKcz
_ZN5daisy6System6GetNowEv
_ZN5daisy8DaisyPod4InitEb
_ZN5daisy9UsbHandle4InitENS0_9UsbPeriphE
memset
btt_new_default
_ZN5daisy6LoggerILNS_17LoggerDestinationE1EE8StartLogEb
_ZN5daisy6RgbLed3SetEfff
ARM GAS  /var/folders/lw/_hmdf9396f92znj902yw3qj00000gn/T//ccIIgyDG.s 			page 57


_ZN5daisy8DaisyPod10UpdateLedsEv
_ZN5daisy6System5DelayEm
btt_set_num_tempo_candidates
btt_set_min_tempo
btt_set_max_tempo
_ZN5daisy8DaisyPod17SetAudioBlockSizeEj
_ZN5daisy8DaisyPod10StartAudioEPFvPKPKfPPfjE
_ZN5daisy17MidiUartTransport6ConfigC1Ev
__aeabi_atexit
__dso_handle
